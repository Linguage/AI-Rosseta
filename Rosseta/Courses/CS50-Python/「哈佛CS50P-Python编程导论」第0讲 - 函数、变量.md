
# 「哈佛CS50P-Python编程导论」第0讲 - 函数、变量

- 视频链接：[CS50P - Lecture 0 - Functions, Variables](https://www.youtube.com/watch?v=JP7ITIXGpHk&list=PLhQjrBD2T3817j24-GogXmWqO5Q5vYy0V&index=2)
- 官方频道：[CS50](https://www.youtube.com/@cs50)
- 课程官网：[https://cs50.harvard.edu/python/2022/](https://cs50.harvard.edu/python/2022/) 提供有详细的学习资料，包括课程视频、讲稿、程序代码等。
- 注意：本文内容由视频脚本生成，仅供辅助参考，具体的学习应以官方内容为准。

### 内容介绍

欢迎阅读 CS50 Python 编程入门（CS50P）第 0 讲的讲座实录。本次讲座旨在为初学者介绍 Python 编程的基础知识，核心围绕函数（Functions）和变量（Variables）这两个基本概念展开。无论您是否有编程经验，本讲座都将引导您从零开始，步入 Python 的世界。

讲座从最基础的操作入手，演示如何编写并运行您的第一个 Python 程序——经典的 "hello, world"。在此过程中，您将熟悉必要的工具，如 Visual Studio Code (VS Code) 编辑器和命令行界面 (CLI)，了解 Python 解释器如何将您的代码转化为计算机可以执行的指令。

随后，讲座深入探讨了编程的核心构件。您将学习什么是函数，如何使用 Python 内置的函数（如 `print()` 用于输出，`input()` 用于获取用户输入），以及参数、返回值和副作用这些关键概念。变量作为存储数据的基本单元，其定义、赋值和使用方法也将得到详细阐释。

为了编写更实用、更健壮的代码，讲座还涵盖了字符串 (`str`)、整数 (`int`) 和浮点数 (`float`) 这几种基本数据类型，以及它们常见的操作，例如字符串的拼接、格式化（特别是强大的 f-Strings）、常用方法（如 `strip()`, `title()`, `split()`）和数值的算术运算、类型转换、四舍五入等。

此外，讲座还强调了编写可维护代码的重要性，介绍了如何添加注释、使用伪代码进行规划，并初步认识了程序中的错误（Bug）与调试的基本概念。代码风格的讨论也穿插其中，鼓励思考不同实现方式的优劣。

最后，讲座引入了自定义函数的概念，您将学习如何使用 `def` 关键字创建自己的函数，理解函数参数、默认值、`return` 语句以及重要的作用域（Scope）概念，并通过 `main` 函数模式了解组织代码的常用方法。


### 内容纲要

```
CS50P - 第 0 讲 - 函数、变量
├── I. 编程入门与环境设置
│   ├── 课程介绍 (CS50P)
│   ├── 第一个程序 (hello.py)
│   │   ├── 使用 print() 输出
│   │   └── .py 文件后缀
│   ├── 编程工具
│   │   ├── 文本编辑器/IDE (推荐 VS Code)
│   │   └── 代码即文本
│   └── 代码执行
│       ├── 命令行界面 (CLI) / 终端
│       ├── Python 解释器
│       └── 运行命令 (python filename.py)
├── II. 函数、参数与变量
│   ├── 函数 (Function) - 动作/动词 (如 print)
│   ├── 参数 (Argument) - 影响行为的输入
│   ├── 副作用 (Side Effect) - 可观察效果 (如屏幕输出)
│   ├── 返回值 (Return Value) - 函数交还的结果 (如 input)
│   └── 变量 (Variable)
│       ├── 存储数据的容器
│       ├── 赋值运算符 (=) - 从右到左
│       └── 使用变量 (打印值 vs 打印名称)
├── III. 代码注释与调试
│   ├── 注释 (Comment) - 使用 #, 供人阅读
│   ├── 伪代码 (Pseudocode) - 用自然语言规划
│   └── Bug 与调试 (Debugging)
│       ├── Bug 定义 (错误/缺陷)
│       ├── 调试过程
│       └── 语法错误 (SyntaxError) 示例
├── IV. 字符串 (String) 处理
│   ├── 字符串定义 (str) - 使用 '' 或 ""
│   ├── 字符串操作
│   │   ├── 拼接 (+)
│   │   └── f-Strings (格式化字符串) - f"..." 与 {}
│   ├── 字符串方法 (String Methods) - . 调用
│   │   ├── .strip() - 去除首尾空白
│   │   ├── .capitalize() - 首字母大写
│   │   ├── .title() - 每个单词首字母大写
│   │   └── .split() - 分割字符串
│   ├── 特殊字符与转义 (\)
│   │   ├── \n (换行)
│   │   └── \" 和 \' (引号本身)
│   └── 方法链 (Method Chaining) - 连续调用
├── V. 数值类型与运算
│   ├── 整数 (int) - 无小数点
│   ├── 浮点数 (float) - 带小数点
│   ├── 算术运算符 (+, -, *, /, %, **)
│   ├── 类型转换
│   │   ├── input() 返回 str
│   │   ├── int() - 转整数
│   │   └── float() - 转浮点数
│   │   └── 错误处理 (提及，非重点)
│   ├── 数值格式化
│   │   ├── round() - 四舍五入
│   │   └── f-String 格式化 (:, .2f)
│   └── 交互模式 (Python REPL) - 即时执行
├── VI. 自定义函数与作用域
│   ├── 定义函数 (def)
│   │   ├── 语法 (def name(params):)
│   │   └── 缩进
│   ├── 调用函数 (name())
│   ├── 参数与默认值 (param="default")
│   ├── return 语句 - 返回值
│   ├── main 函数模式 - 组织代码
│   └── 作用域 (Scope) - 变量有效范围 (局部变量)
└── VII. 代码风格与最佳实践
    ├── 可读性
    ├── 简洁性
    ├── 一致性
    └── 权衡 (无绝对最佳)
```


# CS50P - 第 0 讲 - 函数、变量

## I. 编程入门与环境设置

[轻柔的管弦乐]

好的，这里是 CS50 的 Python 编程入门课程。我是 David Malan，这是我们关于函数和变量的第一周内容。

但很可能，你们中的许多人，甚至大多数人，以前从未真正编程过。所以让我们从动手实践开始。

让我打开我的电脑，启动一个叫做 Visual Studio Code 或简称 VS Code 的程序。这在当下是一个非常流行的用来实际编写代码的程序。当然，你并非必须使用这个特定的工具来写代码。事实上，我们最终需要的只是所谓的文本编辑器，一个用来编写文本的程序。如果你真想的话，甚至可以用像 Google Docs 或 Microsoft Word 这样的工具。你只需要确保以正确的格式保存，但归根结底，你所需要的只是一个能写文本的程序，因为代码就是文本。

在这个特定的程序中，我将能够通过屏幕顶部的区域创建文件。我将通过屏幕底部的操作来开始。我屏幕的底部是一个所谓的终端窗口（Terminal Window），这是一个命令行界面（Command-line Interface, CLI），用于与底层计算机进行交互，无论是你的 Mac、PC 还是云端的某个服务器。我将在这里直接输入 `code`，然后跟上我想创建的代码文件的名称，例如 `Hello.py`。我们很快会看到，用 Python 编写的程序，其文件名通常以 `.py` 结尾，以此向计算机表明这确实是一个用 Python 编写的程序。

现在你会在屏幕顶部看到，我有一个闪烁的光标，在第一行——我的第一行代码将从这里开始——还有一个标签提醒我这个文件的名字是 `Hello.py`。即使不太懂 Python，我也要写下我的第一个程序，如下所示：`print("hello,world")`。

你会注意到，在我敲键盘时，有些内容是自动完成的。我只需要输入一个左括号，右括号就自动出现了，这正是这类工具的一个特性。即使你从未编程过，很可能你也能猜到，推断出这个简单的程序会做什么。它只有一行：`print("hello,world")`。确实，当我最终运行这个程序时，它只会向世界说声“你好”。事实上，这是一个非常著名的——也许是最经典的——你可以用 Python 或任何其他语言编写的第一个程序，所以我就是这么做的。

但在我的 Mac、PC 甚至手机上，我通常习惯通过双击图标或点按屏幕来运行程序。可我在这里看不到任何图标。事实上，这是因为我目前与我的 Mac、PC 或云端服务器交互的界面，再次强调，只是一个 CLI——命令行界面。尽管这可能感觉像是从我们习以为常的菜单、按钮和图标后退了一步，但你会发现，我们认为，这最终是一个更强大的界面，并且在现实世界的程序员中非常流行。

所以要运行这个程序，我将需要使用一个命令。

我会将光标移回屏幕底部，之前我已经运行过一个命令——`code` 命令，它在我的计算机上打开了 VS Code，并且我传入了我想编辑的文件名。现在我有机会输入第二个命令，你会看到第二个美元符号（`$`）。这里的美元符号并不代表任何货币或金钱，它通常只是用来指示你的提示符（prompt）——命令行界面希望你输入命令的地方。现在我可以运行的命令是这个：我将运行 `python Hello.py`。

为什么要这样做呢？原来，当我用像 Python 这样的语言实际编写代码时，代码当然存储在那个文件里——`Hello.py`，但我需要自上而下、从左到右地解释（interpret）这些代码，这样计算机才知道该做什么。

的确，归根结底，即使你不太了解计算机，你可能也听说过计算机只懂 0 和 1，即所谓的二进制系统。如果是这样的话，那么像 `"print"`、括号、引号以及 "hello world" 这样的内容，肯定不是 0 和 1。我们必须以某种方式将它翻译成计算机能理解的 0 和 1。幸运的是，只要你事先安装了这样一个程序，就有一个既是语言也是程序的工具叫做 Python。所以 Python 不仅是我们即将用来编写代码的语言，它也是一个程序，通常称为解释器（interpreter），你可以免费安装在自己的 Mac、PC 或云服务器上。然后你可以运行那个程序，那个解释器，将你的文件名（比如我的 `Hello.py`）作为输入传递给它。之后，那个程序，那个解释器，就会处理读取文件（从上到下，从左到右）并有效地将其翻译成计算机能理解的那些 0 和 1 的过程。

## II. 函数、参数与变量

让我们就这样做。让我回到 VS Code。我已经输入了 `python Hello.py`，但还没按 Enter 键。

现在按下 Enter 键将启动这个命令，并且如果我没有弄错任何地方的话，我应该能看到我第一个程序的输出显示在屏幕上。瞧，"hello, world"。

所以如果你也输入了完全相同的代码，并且执行了完全相同的命令，你就已经用 Python（在这种情况下）编写了你的第一个程序了。

好，现在让我们退一步思考一下，我们刚才到底做了什么？我们在屏幕上看到的是什么？

首先，在几乎所有编程语言中，你通常都可以使用所谓的函数（functions）。函数就像一个动作或动词，让你能在程序中做某件事。一般来说，任何语言都自带一些预先设定好的函数——一些计算机已经知道如何为你执行的非常基本的操作或动词，实际上是语言本身知道如何做。而你，作为程序员，作为人，可以随意使用这些函数来让计算机执行那些事情。

现在我们讨论的这个程序，`Hello.py`，正在使用一个函数。你或许能猜到是哪个。那个函数当然就是这个 `print` 函数。而这个 `print` 函数，显然不会打印某个预先设定好的文本字符串。也就是说，它打印的是任何你希望它打印的内容。这里我们又接触到了编程世界的另一个术语，即参数（arguments）。参数是函数的输入，它以某种方式影响函数的行为。发明 Python 的人，当然不一定知道你我想要在屏幕上打印什么，所以他们设计了这个 `print` 函数，通过使用这些括号，使其能够接受一个文本字符串作为输入，无论是英文还是其他任何人类语言，这就是你希望这个函数最终打印到屏幕上的内容。

那么这个程序最终在屏幕上做了什么呢？嗯，它在打印，当然。它向我们展示了 "hello, world"。在编程中，这通常被称为副作用（side effect）。它可以是视觉上的，也可以是听觉上的。在这种情况下，它是屏幕上出现的东西。因此，函数确实可以有这些副作用。作为动词或动作，它们能做的事情之一就是作为副作用在屏幕上显示一些东西，比如我们想要的那些词——"hello, world"。

这就是我的第一个程序，感觉还不错。一切都按计划进行。我没有犯任何错误，但老实说，当你学习编程时，甚至在你学会编程多年后，你都会犯错误。

现在让我们考虑如何改进这个程序，让它更有互动性，而不是仅仅假设每个人都想被泛泛地问候为 "hello, world"。让我们看看能不能让这个程序说出类似 "Hello, David" 或 "Hello, Jeremiah" 或 "Hello, Horatio" 之类的话，取决于实际用户的名字是什么。

要做到这一点，我将回到 `Hello.py`，并在最顶端添加另一行代码，它简单地说，例如，“What's your name?”，引号括起来并在末尾加一个额外的空格。

所以我向用户打印出一个问题，请求他们输入一些内容。但现在我需要另一个函数来实际获取用户的输入。恰好，Python 自带一个名为 `input` 的函数。所以这里我将调用 `input` 函数，`input()`，圆括号。这将用一个闪烁的光标提示用户，等待他们输入内容。

事实证明，如果我查阅 `input` 函数的文档，它本身实际上也接受一个参数。我不需要单独使用 `print` 然后再提示用户输入。所以我可以在我们使用之前就简化这段代码。我将把之前 `print` 函数里的那个字符串，作为参数传递给 `input` 函数，然后完全去掉 `print`。实际上，那个 `print` 还会添加一个换行符。所以现在我只有一个提示，用户的光标会在行末闪烁，询问他们“What's your name?”。

在我的终端窗口中，我将运行 `python Hello.py`，回车。好了，有进展了。看起来这个新的 `input` 函数确实在提示我（人类）输入。所以我输入我的名字——David——然后按 Enter。不幸的是，它并没有对我的名字做任何处理，只是立即输出了它。

好吧，我可以修复这个问题，对吧？我可以回到第 2 行，把 "world" 改成 "David"。然后回到我的终端窗口，我可以运行 `python Hello.py`，回车。What's your name? David，回车。好了，现在可以了。现在我的程序按预期工作了。

当然，这并非真正按预期工作。让我试着假装是我的同事 Carter。Carter 的名字是这个。我按下 Enter，然后我会看到，当然是 "Hello, Carter"——显然不是，因为我已经硬编码（hardcoded）了，也就是说，我直接把我的名字写在了字符串里面。

所以我们现在需要某种方法来实际获取用户输入的内容，并最终用它做些事情。为此，我们将利用编程的另一个特性，具体来说是一些函数的特性，那就是它们也可以有返回值（return values）。如果你把 `input` 想象成，再次强调，这个动作，这个动词——你甚至可以把它拟人化，比如你的一个朋友，你问了他一个问题，你让你的朋友去向别人获取输入——去问那个人的名字。如果你的朋友回来时知道了那个人的名字，嗯，如果他们能把那个名字交还给你，那岂不是很好？这有点像我们隐喻地需要函数做的事情，获取用户的输入，然后把它交还给我，这样我，作为程序员，就可以用它做点什么。

但如果它要被交还给我，我需要把它放在某个地方，以便之后能把它打印回屏幕上。我需要做相当于拿出一张纸或便利贴，在这张纸上写下用户说了什么，这样我才能把它作为输入喂给那个 `print` 函数。要做到这一点，我们需要编程的另一个特性，即变量（variables）。很可能，每个人在很久以前的数学课上都熟悉变量——x、y、z 之类的。嗯，编程具有同样的能力，能够创建一个变量——在这种情况下，是在计算机的内存中——而不仅仅是在一张纸上。那个变量可以存储一个值——一个数字、一些文本，甚至图像、视频等等。变量只是计算机内部或你的程序内部用来存放某个值的容器。

那么我该如何用这种方式表达自己呢？我想我要引入一个比 x 或 y 更有趣的变量名。我可以只写 `x = input`。但我打算用一个比典型数学变量更好的名字，我将直接把我的变量命名为 "name"，为什么呢？在编程中，因为我面前有一个完整的键盘，我可以使用更具描述性的术语来描述我正在写的东西。

但现在，有机会考虑一个特定的语法。我们已经看到了括号、引号，所有这些在向函数传递输入时都是必需的。但这个在右侧的 `input` 和左侧的 `name` 之间的等号（` = `）实际上很重要。严格来说，它不完全是等号。它的意思与其说是相等，不如说是赋值（assignment）。所以在 Python 和许多编程语言中，单个等号是赋值运算符。具体来说，它的意思是，你想把用户输入的内容从右向左赋给变量。所以等号的作用是将右侧函数的返回值，从右侧复制到左侧。再次强调，`input` 函数显然是从用户那里获取输入。这就是为什么我能输入我的名字或 Carter 的名字。但它也在某种程度上，在幕后，把那个值，那个返回值，交还给我这个程序员。如果我使用一个等号和一个变量，无论我叫它什么名字，我都可以将那个输入存储在那个变量中，以便稍后重用。

所以现在，在计算机内存的某个地方，有一个容器存放着 `"David"` 或者 `"Carter"`，或者用户输入的任何内容。但这里很容易犯错误。假设我决定尝试打印那个名字，于是我凭直觉输入了这个：`print("hello, name")`。就只是把变量名塞进去。

嗯，让我在这里运行 `python Hello.py` 并按 Enter。它会提示我输入名字。我输入我的名字——D-A-V-I-D。但我还没按 Enter。也许通过聊天区，大家可以猜猜看，当我按下 Enter 时会发生什么？我希望它说 "Hello, David"。如果它说 "Hello, world" 我也能接受，但我不想让它说出它实际将要说的内容，是的，我们在聊天区看到的，很可能它会直接说 "Hello, name"。

所以这不太对。我们需要另一种方法来打印出那个变量内部的值，而不是仅仅打印 "name" 这个词。

嗯，让我用几种不同的方式试试。让我试试这样做——也许我撤销这个，因为我已经很擅长说 Hello 了。所以让我们划清界限，就说，好吧，至少先把 "Hello," 弄出来。现在让我们打印 `name`。凭直觉，我打算试试这个。我再次使用 `print`——因为你可以根据需要多次使用这些函数——我将把名为 `name` 的变量传递给 `print` 函数。但请注意，我现在有点聪明了。我没有把它放在双引号里，因为我们已经看到双引号意味着直接打印出 N-A-M-E。这次我把引号去掉了，希望现在通过将名为 `name` 的变量传递给名为 `print` 的函数，它实际上会打印出该变量的内容，也就是它所谓的值。

好的，让我们来做这个。`python Hello.py`，回车。What's your name? David。现在，我仍然祈祷着，我看到了 "Hello," 然后是 "David"。

好的。所以这不是最好的程序。我有点偷工减料了，可以这么说。我在两行上分别说了 "Hello," 和 "David"。所以它不如在一行上一气呵成地说出来那么优雅、漂亮、符合英语语法习惯，但至少我已经解决了问题，只是还不够好。

## III. 代码注释与调试

但让我们先退一步，也许介绍几个我们应该熟悉的其他概念。

首先是关于我们程序中的错误。我第一个程序很顺利，一切按计划进行，我没有犯任何错误。但老实说，当你学习编程时，甚至在你学会编程多年后，你都会犯错误。这些错误，当然，用一个你可能已经知道的术语来指代，那就是 bug（缺陷）。Bug 是程序中的错误，它们可以以多种形式出现。也许知道这一点能让你安心：在接下来的几周里，你会犯很多错误。你的代码里会有很多 bug，就像我以前一样，就像我现在仍然会遇到一样。这些 bug 本身只是需要你去解决的问题。在接下来的几周里，我们会给你很多工具，包括思维上的和技术上的，来帮助你解决这些问题。但如果第一次写程序时它没有立刻成功运行，请不要气馁，随着时间、练习和经验的积累，它会成功的。

让我现在故意犯一个错误，这个错误我之前其实有不小的概率会意外犯下，但我运气好没犯。假设我忘了在代码行的末尾加上那个结束的圆括号。代码几乎是正确的，就像完成了 99%，但既然我指出来了，就很明显它缺少那个右括号。但即便是这样看似微小的细节，我们人类可能不太在意，如果你在发邮件或短信时，这只是个笔误，没什么大不了的。但对计算机来说，这将是个大问题。计算机会严格按照你的字面意思来执行，如果你没有按照语言预期的方式完成你的想法，它很可能根本无法运行。

让我们这样做。我将清空屏幕底部的终端，以便重新开始。在我做了那个删除括号的改动之后，我将运行这个版本的程序。我再次输入 `python Hello.py`，这次当我按下 Enter 时，我希望看到 "hello, world"，但屏幕上出现了一个错误，一个所谓的语法错误（SyntaxError），这指的是我在键盘上犯了一个错误。幸运的是，这个错误非常直接。它确实指出了这个左括号从未被关闭。所以这可能相当直观。现在我需要做什么呢？我当然需要把它关上。不幸的是，有时我们在接下来几周会看到的错误信息，远没有这么用户友好。但同样地，通过经验和练习，你会更擅长调试这类程序。

让我现在确保我确实正确地修复了它。我现在运行 `Hello.py` 并按 Enter，瞧，我们又恢复正常了。



随着我们的程序越来越长，不再只是一行、两行甚至三行，最终我们的程序可能会变成几十行，甚至几百行长。让我们为未来的成功做好准备。事实证明，Python 和许多编程语言也支持一种叫做注释（comments）的东西。注释是你写在代码里的笔记。你通过一个特殊符号来添加注释——在 Python 中，通常是井号（`#`）——这让你能写下相当于给自己看的笔记，而且不会破坏你的代码。计算机实际上会忽略你的注释。它只为你存在，为你的老师存在，为你最终与之共享代码的同事存在。

所以如果我回到 VS Code，只是想给这个程序添加一些注释，向我的老师、我自己、我的同事解释这个程序在做什么，那么，让我们开始吧。我将在程序的顶端，现在的第一行，把原来的代码行往下移一点，我加上一个井号，然后说类似这样的话，“Ask user for their name”（询问用户的名字）。现在，我不必使用那种语言，不必使用那个文本。我可以用任何人类语言。不一定非得是英语。但我现在要在下面说类似这样的话——“Say Hello to user”（向用户问好）。你会注意到 VS Code 默认情况下把我的注释变成了灰色。它们不再是蓝色，没有红色，没有任何颜色。这只是因为它们是我给自己的笔记，计算机最终会忽略它们。

但我们现在有了两个注释——“询问用户的名字”，然后是第二个注释，“向用户问好”。我只是给每一块代码，比如每一行或多行代码，那些做了值得注意的事情的部分，添加了注释。为什么？嗯，明天早上我睡了很久醒来，忘了前一天做了什么，有了注释就很方便，只需用英语或你自己的母语看看这个程序在做什么，这样你就不必去读代码本身了。更好的是，如果将来代码里可能出现错误，你可以读到你当初的意图，然后检查代码，看你的代码现在是否在做你当初想让它做的事情。

对于这么小的程序来说，这并非真的必要。只有一两行或三行代码，程序在做什么很明显。读代码和读注释一样快。但是养成这个习惯通常是件好事——每隔一行或几行就注释你的代码，以提醒自己和他人你的意图以及你的代码在做什么。

注释的好处还在于此——注释也可以作为你自己的待办事项列表。编程中有一个概念叫做伪代码（pseudocode）。伪代码不是一个正式的东西，它不是一种特定的语言。它只是用英语或你自己的母语来简洁地、有条理地、可以说是算法化地表达你的想法。但是伪代码，因此，因为它不是 Python，也不一定是严格的英语，它只是让你能够，甚至在动手写代码之前，就勾勒出你的程序轮廓。

例如，如果今天我不确定该如何编写这个程序，但我知道我想做什么，我本可以今天就这样开始，在 `Hello.py` 里只写这个。没有代码，我可以只给自己写几条注释——步骤 1，询问用户的名字。步骤 2，向用户问好。一旦我用伪代码勾勒出了我的程序，然后我就可以深入进去说，好吧，我该如何询问用户的名字？嗯，我可以用 `input("what's your name?")`。然后在这边左边，也许我可以放一个变量并赋值给它。好的，我该如何向用户问好？嗯，我知道我可以用 `print` 在屏幕上输出内容。让我说 "hello,"，然后让我——好的，现在让我打印出那个人的名字。所以，再次强调，伪代码是构建你的待办事项列表的好方法，特别是当你完全不知道如何编写代码时，因为它将一个大程序分解成了小块易于处理的任务。

**问：** 我能否在 Word 或例如 Microsoft Excel 里编写代码？这样做有什么障碍？

**答：** 这是一个非常好的问题，请允许我非常明确地向整个互联网说明，你不应该用 Microsoft Word 来编写代码。我之所以提到它，只是因为它是一个可以用来编写文本的工具，而代码归根结底只是文本。但它不是完成这项工作的正确工具。我们不需要加粗、下划线、段落之类的东西。我们通常需要比 Microsoft Word 或 Google Docs 简单得多的东西。所以 VS Code 就是一个更通用的文本编辑器的例子。它存在的目的就是允许你，人类，编辑文本。如今这些文本编辑器带有更多功能。事实上，你会注意到，即使在我的代码里，尽管只有一行，它也带有一些颜色。对我来说，"print" 这个词是蓝色的，括号是黑色的。随着我们编写更多行代码，我们会看到越来越多的行以各种颜色呈现出来。这只是文本编辑器的一个功能。我们还会看到它有像内置终端窗口这样的功能。它会有一个内置的工具用于调试或查找代码中的问题。它现在只是一个非常流行的工具，但市面上还有很多很多其他的工具。在本课程及以后，你完全可以使用它们。我们之所以使用这个，很大程度上也是因为你现在可以在云端免费使用 VS Code。

**问：** 我想问是否可能不通过终端窗口来运行计算机（程序）？

**答：** 我想我听到的是“是否可能不通过终端窗口运行程序？” 是吗？好的，你又卡顿了一下。但我推断一下问题是什么。在我配置的这个环境中，我只能通过终端窗口运行这些 Python 程序。现在这对于我，程序员，或者正在学习如何编程的人来说是好的，但如果你想发布这个软件让其他人使用你的实际代码，这就不太好了。你完全可以编写程序，然后允许其他人使用图形用户界面（GUI - Graphical User Interface）而不是命令行界面。这（CLI）只是一种机制，而且我认为，是开始编写代码的最佳机制之一，因为它最终会给我们更多的控制权。

**问：** 我的问题是，`input` 函数适用于任何类型的信息，还是只适用于文字？

**答：** 是的，非常好的问题。根据它的文档，我们很快会看到更正式的文档，`input` 函数期望接收所谓的字符串（string），也就是一段文本，无论是英文还是其他人类语言。但它确实期望的是用来提示用户的文本。好问题。

**问：** 我想问我该如何创建多行注释？

**答：** 哦，如果我没听错的话，你是问如何写多行注释？当然。你可以就像这样继续写。你只需在每一行的开头加上井号符号（`#`），就像我现在做的这样。在 Python 中还有另一种技术用于多行注释，它们通常有特殊的含义。你可以像这样使用三个双引号，然后这之间的任何内容都是注释。这是另一种技术。或者你也可以使用单引号。但关于这些，我想我们下次再说。

## IV. 字符串 (String) 处理

好吧，如果你不介意，让我继续前进，看看我们如何能进一步改进这个程序，并介绍一些我们可能随着时间的推移需要考虑的其他特性。

事实证明，我们当然可以改进这个程序，因为它有点令人失望，我走了捷径，先说了 "Hello,"，然后在下一行打印出名字。我们可以做得更好。你在手机或笔记本电脑上使用的大多数程序，在人们需要时，肯定会把文本放在一起。那么我们该如何做到这一点呢？

有几种不同的方法。事实上，这里的目标与其说是解决这一个问题，不如说是展示和强调在编程中——Python 和其他语言——有时解决同一个问题有很多种方法。

这里有一种解决这个问题的方法。让我进入代码，现在让我说 `"Hello,"`，然后我直接在它的末尾加上用户的名字。我正在以一种有趣的方式使用 `+`。这本身不是加法。我显然不是在加数字，但我确实想把那个人的名字加到 "Hello," 这个文本字符串后面。

好，现在让我到我的终端窗口，再次运行 `python Hello.py`，回车。What's your name? 我输入 David。回车。好了，好一些了。它好一些了，但这里有一个小小的 bug，尽管是美观上的。缺少了一个空格。但让我们凭直觉来解决。嗯，如果逗号后面少了空格，为什么我不手动在这里加上它呢？我现在重新运行程序 `python Hello.py`，回车，David，回车。好了。现在我们得到了在英语语法方面看起来更漂亮的东西。"Hello, " 空格 "David"。

现在如果我们回想一下，你之前可能注意到或好奇为什么我在问号后面有一个看似多余的空格，就是这里。在问号之后、双引号之前有一个空格，那也只是为了美观。我想把用户的光标向右移动一个空格，这样当我输入他们的名字或他们输入名字时，它不会紧挨着那个问号。

但我们还有其他方法可以做到这一点。事实证明，有些函数，包括 `print`，实际上接受多个参数。事实证明，如果你用逗号分隔函数的输入——即所谓的函数的参数——你可以传入不止一个，而是两个、三个、四个、五个，甚至更多。所以，让我传入的不仅仅是 `"Hello,,"` 空格，而是这个后面跟着 `name`。初看之下，这可能会有点混淆，因为现在我有两个逗号，但重要的是要注意，第一个逗号在我的引号内部，这只是一个英语语法上的东西。第二个逗号在引号外部，但在现在是 `print` 的两个独立参数之间。第一个参数是 `"Hello,"` 空格。第二个参数是 `name` 变量本身。

让我们看看效果如何。`python Hello.py`，回车。What's your name? David。回车。好吧，我有点矫枉过正了。现在不知为何我有了两个空格。嗯，事实证明，这是微妙的，当你向 `print` 传递多个参数时，它会自动为你插入一个空格。这在之前是不相关的，因为我那时是使用 `+` 运算符一次性将一个大的参数传递给 `print`。这次我因为逗号传递了两个参数。所以如果我不想要那个额外的空格，我就不需要自己传入一个，我可以只这样做。现在注意，如果我再次运行这个程序——`python Hello.py`，输入我的名字 David，现在它看起来在语法上可能就像我想要的那样了。

那么哪种方法更好呢？这种方法使用了带两个参数的 `print` 函数——`"Hello,"` 和 `name` 变量。回想一下，之前的版本严格来说只使用了一个参数，尽管它看起来有点奇怪。说它是一个参数是因为计算机，就像数学家一样，会先处理括号内部的东西。所以如果在括号内部你有这个文本字符串——`"Hello,"` 和一个空格（我需要加回去）。然后你有一个 `+`，这在这里不意味着加法，而是连接（concatenation）——将左边的东西和右边的东西连接起来。这最终变成了英语短语——"Hello, " 空格 "David"。然后最终传递给函数的东西，严格来说是像这样的，但它是动态完成的。不是像我之前那样小心翼翼地输入 "David"。它是通过将 "Hello" 与 `name` 的值连接起来，动态地计算出那个值，然后将结果作为唯一的参数最终传递给 `print`。

**问：** 我们能否多次使用一个函数来解决我们在代码中可能多次遇到的某个问题？

**答：** 你可以。你可以多次使用一个函数来解决某个问题。但我们很快会看到，如果你发现自己，作为程序员，一遍又一遍地用同样的方式解决问题，事实证明你将能够创建自己的函数，这样你就不必一直重复使用语言自带的那些基本函数了。

**问：** 我对逗号和加号感到好奇。那么在加号之后，我们只能给一个变量吗？而在逗号之后，我们又可以给多个变量状态？这有什么区别？

**答：** 好问题。在字符串的上下文中——我一直使用这个术语。"字符串"（String）是编程语言中的一个技术术语，再次强调，它表示一段文本——一个字符、一个单词、甚至一整个段落。所以 `+` 运算符不仅仅像我们即将看到的，用于 Python 中数字的加法，就像我们在纸笔上做的那样，它也用于连接左右两边的字符串。如果你想连接的不只是两个字符串——左边和右边——而是第三个、第四个，你完全可以像数学中那样，继续使用 `+`、`+`、`+`、`+` 把它们串联起来。但最终这会开始看起来有点难看，恕我直言，特别是如果你的代码行变得很长。所以有更好的方法，我们实际上很快就会看到。也是个好问题。



让我回到我们讨论的代码，看看我们是否能展示几种其他解决同一问题的方法，同时强调我们在这里严格讨论的是字符串，但在 Python 中，这些字符串甚至有一个技术术语，简称 STR，S-T-R，代表 string（字符串）。如果你用其他语言编程过，你可能知道，发明编程语言的人喜欢非常简洁、直截了当，所以我们倾向于用相当短的短语来描述事物，不一定是完整的单词。所以虽然你可能会说 "string"，但在 Python 中，我们真正讨论的这些文本序列，严格来说是 STR。这是程序中一种实际的数据类型。但我们很快会看到程序中还有其他类型的数据。

事实上，让我们看看是否能用另一种方式改进它。我喜欢我们通过将所有内容保持在同一行——`Hello, David` 全在同一行——所取得的进展。但在解决这个问题方面，我们还能做些什么呢？

嗯，事实证明，我们并非必须完全放弃使用两次 `print`。让我稍微倒回一点，回到那个早期版本，那时我不太确定如何解决这个问题，所以我用了一次 `print` 来打印出 "Hello"、空格和逗号。然后我再次使用 `print` 来打印 `name`。严格来说，这并不坏，但有一个我不喜欢的视觉副作用。让这两行文本分开看起来很难看。

但有另一种方法可以解决这个问题。很明显，`print` 函数似乎会自动输出一个空行。它自动为我将光标移动到下一行，因为这就是为什么我看到 "Hello" 在一行，"David" 在下一行，然后我的提示符——美元符号——在更下面一行。所以 `print` 似乎自动假定，在你给它传递参数后，你希望它将光标移到下一行。但你可以覆盖这种行为。再次强调，函数接受影响其行为的参数，你只需要知道那些参数是什么。

事实证明，如果我们查看 Python 的 `print` 函数的文档，我们实际上可以在这个 URL 查阅——`docs.python.org` 是 Python 所有官方文档的所在地。如果我四处看看，我可以找到更具体的这个 URL，在那里我可以找到 Python 中所有可用的函数及其文档。如果我再精确一点，我甚至可以找到 `print` 函数本身的具体文档。与其在浏览器中打开它，我将直接高亮显示来自同一 URL 的一行，就是这个。这很容易是我们迄今为止看到的最神秘的东西，但这是 `print` 函数的官方文档。在学习一门编程语言时，你能做的最好的事情之一，老实说，就是学会阅读文档，因为真的，你所有问题的答案都会以某种方式在那里，尽管，无可否认，它并不总是显而易见的。我还要说，Python 的文档不一定是，特别是对于初次或新手程序员来说，最容易理解的东西。这也需要练习，所以如果你不确定你在看什么，尽量不要感到不知所措。

但让我带你看看这个例子。这再次是来自 Python 官方文档中关于 `print` 函数的一行文本。它表明如下——这个函数的名字，当然是 `print`。然后这里有一个左括号，那边很远的地方有一个右括号。这两个括号之间的所有内容都是参数，是这个函数潜在的参数。然而，当我们在像这样的文档中查看这些参数时，严格来说我们用的是另一个术语。这些严格来说是函数的**形参**（parameters）。所以当你讨论可以传递给函数什么，以及那些输入叫什么名字时，那些是形参。当你实际使用函数并在那些括号内传入值时，那些输入，那些值是**实参**（arguments）。所以我们讨论的是完全相同的东西——形参和实参实际上是同一回事，只是你从不同角度看待问题时使用的术语不同。我们是在看函数能接受什么，相对于你实际传递给函数什么。

那么这意味着什么呢？这个语法相当晦涩，但目前，只需知道一个星号（`*`），然后是单词 `objects`，意味着 `print` 函数可以接受任意数量的对象。你可以传入 0 个文本字符串，像我做过的那样传入 1 个字符串，像我做过的那样传入 2 个字符串，或者，严格来说，如果你真想的话，可以传入无限多个，尽管那样的代码看起来不会很好。在那之后我们看到一个逗号，然后我们看到这里有另一个名为 `sep` 的形参，是英语 separator（分隔符）的缩写。注意等号和单引号、空格、单引号。所以 `' '`（单引号空格单引号），我还不确定这是什么，但我想我们已经看到了关于它的线索。

不过，让我们暂时关注这个——`print` 函数接受另一个名为 `end` 的形参，并且基于这个等号和这些引号，该形参的默认值显然是 `\n`。那么 `\n` 是什么呢？如果你想在聊天中发表意见的话？任何以前编程过的人可能都见过这个，尽管如果你从未编程过，这可能看起来相当神秘。反斜杠 n (`\n`) 表示**换行**（new line），这是一种文本化的方式，用来指示你是否以及何时希望计算机有效地将光标移动到下一行，创建一个新的文本行。所以严格来说，如果我们深入阅读文档，我们会看到更多细节。`print` 函数文档中有一个名为 `end` 的形参，这一事实意味着，默认情况下，这个 `print` 函数将在每行末尾加上 `\n`。你不会真的看到 `\n`，你会看到一个新行。你会看到光标移动到下一行。

现在根据这个逻辑，让我们往回看。`sep` 代表 separator（分隔符）——分隔符的默认值显然是一个**空格**。嗯，我们在哪里见过这个？回想一下之前的例子，当我向 `print` 函数传入不止一个而是两个参数时。回想一下，它们之间神奇地出现了一个空格。事实上，它们有了那个空格加上我自己加的空格，这就是为什么我删除了我的空格，因为那时它是多余的。所以这仅仅意味着当你向 `print` 传递多个参数时，默认情况下它们会被一个空格分隔开。默认情况下，当你向 `print` 传递参数时，整个输出会以一个换行符结束。

现在仅仅知道了这些，让我直接忽略文档的其余部分留待以后再说，`print` 还能做更多事情，但我们只关注 `sep` 和 `end`，让我们看看能否利用这一点来解决最初的问题。最初的问题是这个，我不喜欢 "Hello, David" 分在两行上。这再次发生是因为 `print` 自动打印出一个换行符，所以让我们告诉它不要这样做。让我们通过向第一个 `print` 的使用传递第二个参数来告诉它，设置 `end=""`——不是 `\n`，那是自动的默认值。让我们把它设为 `""`（空字符串），里面什么都没有。让我们覆盖默认值，这样就没有换行符了。那里确实什么都没有。让我们看看会发生什么。

我现在到我的终端窗口并清空它。我运行 `python Hello.py`，回车。我输入我的名字，David，我想现在所有东西都会保持在同一行，因为——确实如此——这里的第 5 行将打印出 "Hello, " 空格，但末尾什么都没有，因为我把它改成了 `""`。第二行将打印名字，David，或者用户输入的任何名字，并且它**会**将光标移动到下一行，因为我没有覆盖那里的 `end` 的值。为了更清楚地看到这一点，如果你做一些神秘的事情，比如，我完全不知道发生了什么。让我暂时在这里放三个问号。我们也会看到这个的结果。让我回到终端窗口，运行 `python hello.py`，What's your name? David。现在你看到了确实很难看的输出，但你确实看到了发生了什么。"Hello, " 空格，然后是三个问号，结束了那个 `print` 语句，然后你看到了 D-A-V-I-D。所以结果不好，但这展示了我们在这里有多大的控制权。

让我再回退一下。回想一下我们另一个版本，当我传入 `"Hello,"` 和 `name` 时，它们被一个空格分开了。`python Hello.py`, D-A-V-I-D, 回车。这样就行了。那么如果我们覆盖 `sep` (separator) 的值呢？与其是一个空格，我们可以说类似，问号、问号、问号，只是为了让我们理解那里发生了什么。我现在执行 `python Hello.py`, D-A-V-I-D, 回车。你看到了。这两个输入——`"Hello,"` 和 `name` 现在被三个问号以一种难看的方式分开了，因为我覆盖了 `sep` 的默认行为。

尽管文档使用了单引号，但我一直习惯使用双引号。在 Python 中，你可以使用任何一种。严格来说，这没关系，但你应该保持一致，我通常总是使用双引号。不过，Python 的文档总是使用单引号。

**问：** 这可能是个奇怪的问题，但我在想，如果有人想在引号内实际添加引号怎么办？

**答：** 是的，我喜欢你的想法。这就是我们所说的边界情况（corner case），对吧？就在我们觉得——对，这一切听起来很棒，至少就编程而言是这样，但是，等等，如果你想打印一个引号怎么办？这确实是个好问题。好吧，让我们看看能不能解决这个问题。假设我想打印的不仅仅是用户的名字。让我进一步简化这个。让我去掉很多东西，只说类似这样的话，"Hello"——也许我有点讽刺。"Hello, 'friend'."（用那种语气）。嗯，这实际上行不通，因为你试图用引号来表示像“朋友”那样的手指引号，但你同时也在试图结束句子。如果我尝试运行这个，让我们试试。`python Hello.py`，你会看到这只是无效的语法。也许你忘了一个逗号。这实际上有点烦人。有时你看到的错误消息会误导人。就像计算机、语言本身并不真正知道发生了什么，所以它给出最好的猜测，但这不一定是正确的。

但我可以用几种方法解决这个问题。我可以这样做——我可以把我最外层的引号改成单引号。因为回想一下刚才，我说过你可以用双引号或单引号，只要你保持一致。所以这没问题。如果你在外面用单引号，你就可以在里面用双引号，你会看到它们本身。例如，如果我运行 `python Hello.py`，好了。"Hello, "friend""。

但还有另一种方法。如果你坚持使用双引号，就像你可能想的那样，只是为了保持一致，你也可以再次使用那个反斜杠字符。我们刚才看到了 `\n`。那意味着我们不希望输出中有一个字面上的 n，我们想要一个新行。所以反斜杠实际上代表所谓的**转义字符**（escape character）。转义字符是你在键盘上不一定能只按一次就输入的字符。你需要用多个字符来表达它。所以我实际上可以在这些内部的双引号前面加上反斜杠，这样计算机就会意识到，哦等等，那些不是结束或开始思考的引号，它们是字面上的引号。所以现在让我回到我的终端窗口，运行 `python Hello.py`，回车。现在它也正常工作了。所以转义是一种通用技术，也允许我们这样做。



如果可以的话，让我现在回溯这些例子，回到我们之前代码的那个状态，我只是撤销所有这些操作，因为我想回到最终指定解决这个问题的最后一种方法。

嗯，事实证明我们还有另一种方法可以解决这个问题，这也许是现在最常用的，或者至少在为越来越长的字符串使用做准备时是最优雅的。

你可以使用 Python 一个相对较新的特性来做到这一点。你可以直接把，不是像那样把变量的名字放在你的字符串里，因为我们已经看到这是错的，对吧？如果你这样做，你会直接看到 "Hello, name"。但如果我这样做呢？如果我把花括号或大括号放在变量名周围？注意 VS Code 实际上非常微妙地改变了它的颜色。所以 VS Code 知道这里发生了一些有趣的事情。让我运行这个程序，但我还没完成。`python Hello.py`，回车。D-A-V-I-D，回车。好的，显然不是我想要的，但我需要告诉 Python 这是一个特殊的字符串。这就是我们所谓的**格式化字符串**（format string）或 **f-string**，这是 Python 近年来一个相对较新的特性，它告诉 Python 实际上要以特殊的方式格式化字符串中的内容。而你用来做这件事的符号有点奇怪，但这是世界选择的方式。如果你在字符串的开头，就在第一个引号标记之前，放一个 F，这对 Python 来说就是一个线索，哦，这是一个特殊的字符串。让我为你以特殊的方式格式化它。

我现在重新运行程序。`python Hello.py`，回车。D-A-V-I-D，回车。现在我们看到了我们一直以来的目标——"Hello, David"。我们不从这种方式开始，因为我想如果我们一开始就这样做，你会觉得，我们为什么要这样做？这些神奇的符号是什么？但这只是解决同一问题的又一种方法。



但让我建议我们现在考虑一下我们还能用字符串做些什么其他事情。事实证明，即使我们在这里做了一些相对简单的操作，我们通常都相信用户会合作，也就是说他们会实际输入我们想要他们输入的内容。但仅仅因为他们输入了一个字符串，并不意味着它会看起来像我们想要的那样。老实说，我们人类，实际上在网站和应用程序上，习惯于不小心多按几次空格键，无论是在输入的开头还是结尾，也许是因为空格键通常很大。在用户的某些输入之前或之后出现意外的空格是很常见的。我们绝对有不一定按应有方式大写单词的习惯。如果我们发短信，我们可能会有点快，只是全部用小写发送，例如，如果那是你的风格，如果你的手机没有为你修正的话。也许在一封正式的信函中，你会适当地大写。但是我们人类，在使用某些软件时，无论是应用程序、网站还是其他东西，并不能完全被信任会以一种规范的方式输入内容。

但事实证明，字符串本身带有许多内置功能。你可以在 Python 自己的文档中看到所有这些，就在这里。我们一直在讨论的字符串数据类型，内置了许多功能，这意味着我们可以操作用户的输入，做的不仅仅是像和 "Hello" 之类的东西连接起来，我们实际上可以清理它或以一种希望对我们来说看起来更好的方式重新格式化它。

所以让我回到我的代码，让我演示一下如果用户不合作可能会发生什么。如果我在这里运行 `python Hello.py`，回车。让我草率地多按几次空格键。为什么？我只是没注意。现在我输入我的名字 D-A-V-I-D，然后，我不知道，我又多按了几次空格键。就像一团糟。全是小写。这在语法上不一定看起来正确。这里和这里都有空格。程序会精确地打印出这些，这看起来真的很糟糕，至少如果我们优先考虑美观和语法的话。就像，逗号后面为什么有这么多空格？这样问候你的用户可不太友好。

但我们可以清理它。事实证明，字符串内置了，再次强调，这是 Python 中的一种数据类型，可以对该字符串执行操作的能力。所以让我这样做，我实际上可以做类似这样的事情——`name = name.strip()`。这是做什么的呢？从字符串中移除空白。我这是什么意思？嗯，在右侧，注意我写了名为 Name 的变量名。然后我用了一个句点或点号，然后我似乎在做一个函数，对吧？到目前为止，每当我们看到一个函数，我们都看到函数的名字——`print` 或 `input`，然后我们看到一个左括号，然后是另一个右括号，这正是我在这里看到的。但我使用这个函数的方式有点不同。严格来说，这个函数——在这种上下文中——被称为**方法**（method）。我这是什么意思？嗯，如果 Name 是一个字符串，也就是 STR，那么事实证明，根据文档，Python 中的字符串自带了很多函数。你可以通过使用字符串的名字，比如这里的 `name`，然后一个句点，然后是函数的名字，然后是一个左括号和一个右括号来访问这些功能。也许那些括号里有一些参数，但在这种情况下，它不需要任何参数。我只想去除用户输入左边的空格和右边的空格。

但这还不够。我想记住我已经去掉了左边和右边的空白，所以我将再次在这里使用等号。注意，就像之前一样，这不意味着相等，这表示从右到左的赋值。所以当这行代码——`name.strip()`——返回给我一个值时，也就是一个返回值，它将返回用户输入相同的内容，但不再有左边或右边的空白。然后等号赋值将把那个值从右复制到左，从而更新我的 `name` 变量内部的值。所以你不仅可以将值赋给变量，你完全可以通过一次又一次地使用赋值运算符，即等号，来改变变量的值，它会一直将新的值应该是什么从右复制到左。

所以现在如果我重新运行这个程序，`python Hello.py`，回车。我输入 D-A-V-I——哦，再来一次。空格，空格，空格，空格，空格。d-a-v-i-d 全小写，空格，空格，回车。好多了。它没有修正我的大写，所以我第一个 D 还是有点草率，但它确实去掉了所有那些额外的空格。超级微小的细节，对吧？这并不那么令人兴奋，但这恰恰说明了你仅用一行代码就能做到的强大之处。

现在我还能做什么呢？嗯，我可以将用户的输入首字母大写。让我试试这个。事实证明，我也可以这样做——`name = name.capitalize()`。所以让我把用户名大写。再次强调，我正在写注释，并没有一种绝对正确的方式来写注释。我只是在这里用一些简短的英语短语来提醒自己我在做什么。现在这里发生了什么？嗯，让我运行 `python Hello.py`，回车。空格，空格，空格，空格，空格，d-a-v-i-d，空格，空格，回车。好的。现在看起来更漂亮了，对吧？无论用户如何输入他们的名字，即使有点草率，我现在都在修正它。

但让我们试试别的。我有点好奇了。这个怎么样？空格，空格，空格，空格，空格，d-a-v-i-d 空格 m-a-l-a-n——我现在用我的姓氏——回车。好的，所以具有讽刺意味的是，`capitalize` 并没有真正大写我们想要的所有内容。它显然只大写了什么？仅仅是第一个字母。

事实证明，再次强调，Python 中还有其他与字符串相关的函数。如果我们仔细查看文档，滚动浏览像那样的 URL，我敢打赌我们会找到另一个解决方案，其中一个实际上是这个。让我们实际上把这个改成 `title`。字符串还附带另一个名为 `title` 的函数，它执行基于标题的大小写转换，就像书名或人名一样，将每个单词的首字母大写。这会为我们做更多的工作。

所以让我们运行这个。顺便说一句，我现在有点厌倦了一直输入 `python`、`python`、`python`。事实证明，在使用像这样的命令行界面时，你实际上可以回顾你所有的旧命令。我刚才做的是按了向上箭头键。这立即回顾了我输入过的所有命令的历史记录。所以这对我来说现在是重复自己的更快方式，而不是手动输入所有内容。让我按 Enter，空格，空格，空格，空格，空格，d-a-v-i-d 空格 m-a-l-a-n 空格，空格，全小写，回车。现在看起来好多了。现在我已经将内容大写并清理干净了。

但我的代码呢？我现在大概有八行代码，其中四行是注释，四行是实际代码。我真的需要这么多吗？嗯，不一定。看看我在 Python 中还可以做什么。让我不用单独去大写用户的名字。让我这样说——并且大写用户的名字。我可以把这些函数**链接**（chain）在一起。我可以把 `title` 加到这个的末尾。

现在发生了什么？嗯，再次强调，对于这样一行代码，你首先关注等号右边的内容，然后我们再看等号左边的。等号右边是什么？是这一行。这表示什么？获取 `name` 变量的值，比如 D-A-V-I-D 空格 M-A-L-A-N。然后去除左边和右边的空白。这将返回一个值。它将返回 D-A-V-I-D 空格 M-A-L-A-N，左右没有任何空白。你想对那个返回值做什么？你想让 Python 对它进行标题化处理，也就是遍历结果字符串中的每个单词，并修正第一个单词的首字母、第二个单词的首字母，依此类推。然后——现在我们可以完成我们的想法了——将整个结果从右到左复制到同一个 `name` 变量中。

你知道吗？我甚至可以更进一步。如果我们愿意，为什么不这样做呢。让我把所有这些都去掉，让我直接在第一行就做 `strip` 和 `title`。现在我们从大约八行代码变成了四行。它紧凑多了。整洁多了。尽管理性的人可能会有不同意见，但可以说它更好，因为它更容易阅读。代码行数越少，出错的机会就越少，它只是让我能够继续解决我的下一个问题。

**问：** 是的，嗨。谢谢，David。那么有没有办法移除我可能添加的空格之间的空格？

**答：** 简短的回答是，没有。如果你阅读之前那个 URL 的文档，你会看到 `strip` 从左边和右边移除，但不会移除中间的。事实上，字符串还有另外两个函数。一个叫做 `lstrip`（left strip），另一个叫做 `rstrip`（right strip），它们允许你只做其中一个。如果我们想开始去除中间的空格，我们将不得不采用完全不同的技巧。

**问：** 像这样 `.strip().title()` 组合起来的函数可以组合多少个？

**答：** 是的，非常好的问题。严格来说，你想组合多少就组合多少，但在某个时候你的代码会开始看起来非常非常糟糕，对吧？因为代码行会变得非常非常长。它最终可能会换行一次又一次。所以在某个时候，你就会说，嗯嗯，太多了。然后你开始把它分解成多行，就像我之前做的那样。也许根据需要重新给变量赋值。



字符串还带有一系列其他方法，其中一个叫做 `split`，顾名思义，它可以将一个字符串分割成多个更小的子字符串。例如，如果用户习惯于输入他们的名字，然后一个空格，然后是他们的姓氏，而你只想用他们的名字来问候他们，那么我们实际上可以利用名字和姓氏之间的那个空格，将那个字符串分割成两个更小的子字符串。我们该怎么做呢？

好吧，让我主动在这些行之间注释一下，说明我们即将把用户的名字分割成名字和姓氏。然后让我们获取那个 `name` 变量，它目前包含类似，大概是 "David Malan" 的内容，然后让我调用 `split` 并传入一个空格作为 `split` 的参数，从而表明我确实想根据那个字符进行分割。事实证明 `split` 将返回一个值的序列，理想情况下是一个名字然后是一个姓氏。在 Python 中，我们实际上可以一次性将该序列中的所有这些值赋给一些变量。例如，`first, last =`，这将产生从右到左的效果，把第一个这样的值放入第一个变量，第二个这样的值放入第二个变量。所以现在在我的最后一行代码中，我可以进去说 "Hello"，不是对全名，比如 "David Malan"，我可以说 "Hello, first"。

好的，让我们清空我的终端窗口，运行 `python Hello.py` 并按 Enter。这次我就不加任何前导空格了，但我输入 "David Malan"，然后像往常一样祈祷着，我们现在看到的是 "Hello, David"。

## V. 数值类型与运算

好的，到目前为止我们已经看了这么多涉及字符串的例子，但程序和编程语言当然也可以处理其他类型的数据。让我们过渡到 Python 中，以及更普遍的编程中，另一种非常常见的数据类型，即**整数**（Integers），在 Python 中也称为 INT——I-N-T。所以就像 STR 是 string 的缩写一样，Python 中的 INT 是 integer 的缩写。

那么，什么是整数？就像数学中一样，它是一个像 -2, -1, 0, 1, 2 这样的数字，一直到负无穷，一直到正无穷。但整数中没有小数点。它只是像 -2, -1, 0, 1, 2... 这样的数字。这就是一个 INT。

当然，在数学世界里，我们使用很多符号。我们之前见过 `+`，尽管我们用它做了不同的事情。但 Python 支持这些符号以及更多。Python 允许你将数字相加 `+`，相减 `-`，相乘 `*`，相除 `/`。这里唯一可能让人们觉得有点奇怪或不熟悉的是这个百分号 `%`，但在这个上下文中它不表示百分比。如果你在 Python 程序中使用单个百分号，那实际上是所谓的**取模运算符**（modulo operator），这个运算符允许你得到一个数除以另一个数后的余数。我们很快会看到它的例子，但前四个可能大家都很熟悉。

事实证明，在 Python 中，你不一定非得一直像在 `Hello.py` 文件中那样编写代码，然后在终端窗口运行它。许多人喜欢 Python 的一个特性是它支持所谓的**交互模式**（interactive mode）。就像你可以开始编写 Python 代码并立即交互式地执行每一行，特别是如果你不关心保存所有代码行的话。你只想执行代码并得到一些答案。

例如，让我回到 VS Code，关闭 `Hello.py`，然后点击我终端窗口里的小三角形，只是暂时让它变大一点。我现在不创建任何 `.py` 文件，我只是在我的提示符下直接运行 `python`。你会看到当我这样做时，我得到一些神秘的输出，以及程序最后更新的日期和时间等等。但最终我得到了三个尖括号，像这样 `>>>`。这就是 Python 的交互模式。所以我正在运行 Python 解释器，每当我在解释器中输入一行代码，它就会立即执行。我不必一次又一次地运行 `python`。这就好比在人类世界里，如果你站在一个说其他语言的人旁边，你们只是来回交谈，翻译是即时发生的。

那么在交互模式下我可能会做什么呢？嗯，我可以做类似 `1 + 1`，回车。这实际上是代码，对吧？你可能不认为它是代码，但如果有一点算术知识，你知道数字，你知道 `+`，那就是有效的 Python 代码。你可以把 Python 真正当作一个高级计算器来用。但我也可以做其他事情。如果我想对自己打印 "Hello, world"，我也可以打印出那行代码——"Hello, world"。所以说它是交互式的，是因为你执行一行代码的那一刻，砰，你就看到了结果。我们通常不会这样做，至少在教授语言时，我们倾向于逐步进行，并且希望你能看到我们是从哪里来的。我们希望能够一次又一次地尝试，特别是如果我们犯了错误。但要知道这确实是 Python 的一个特性，这个所谓的交互模式。

但让我们暂时关注的不仅仅是那种交互性，而是 Python 显然支持整数和数学运算以及一些基本操作的事实。让我们看看能不能制作我们自己的小程序计算器。

所以让我再次打开 VS Code，缩小我的终端窗口，然后创建一个名为 `Calculator.py` 的新文件。要做到这一点，回想一下，我可以在这里输入 `Code`，然后是我想要创建的文件名，`.py`，回车。这给了我顶部的一个新标签页。我已经关闭了 `Hello.py`。我现在在 `Calculator.py` 中。

让我们只做一个简单的计算器，为我做一些加法。但我会在一个文件中做，这样我们可以迭代它，并随着时间的推移进行改进，无论好坏。让我先声明几个变量。我将按照数学的方式，把我的第一个变量叫做 x，第二个变量叫做 y，然后我给自己第三个变量 `z = x + y`。然后我将打印出 z。

现在这个程序，无可否认，不是很有趣或有意思，事实上，它比之前用字符串在屏幕上打印东西还要没意思一点，但我们会在此基础上构建，看看 Python 中还有哪些我们可以利用的其他特性。所以希望，如果 Python 和我一样懂数学的话，当我运行 `python Calculator.py` 时，我应该希望看到 $1 + 2$ 确实等于 3。好的，所以并不那么令人惊讶，也没那么有趣。老实说，这不是最有用的程序，因为它总是计算 $1 + 2 = 3$。

让我们至少让这个程序，比如说，更有互动性一点，对吧？我们已经从之前的例子中知道如何从用户那里获取输入。让我们把那个 `input` 函数带回来。让我们这样做，让我现在到我的代码顶部，把 x 改成不总是数字 1，让我们把它改成询问用户 x 是什么的返回值。我可以用任何我想要的英语或人类语言。我将说，“What's x?” 就像我之前问“What's your name?”一样。然后对 y 做同样的事情。我将再次使用 `Input`，但这次把问题改成，“What's y?”。

好了，到目前为止，我想我将保持代码的其余部分不变。`z = x + y` 然后 `print(z)`。但现在的好处是，我想我有一个不错的交互式计算器了。对吧，现在它不会一直做 $1 + 2$ 了。它会做用户输入的任何东西 + 用户输入的任何东西。

所以让我们试试这个。让我运行那个程序。好的，让我们开始。1 将是 x，2 将是 y，当然，大家一致认为，$1 + 2 = 3$——咦？

[12 被打印出来]

那里发生了什么？要么是你的数学课误导了你，要么是我误导了你。

**问：** （Anjali 发言）我认为问题在于它正在连接字符串，因为你使用了 `+` 运算符而不是进行加法运算。

**答：** 非常好。完美的直觉。我们已经看到 `+` 在字符串的上下文中用法有点不同，因为它会连接，也就是将两个字符串连接起来，而这里似乎确实发生了这种情况，即使是用户输入了一个数字。但有趣的是，当你获取用户输入时，因为他们是在 Mac、PC 或手机上使用键盘，所以它**总是**文本。它可能看起来像一个数字，但默认情况下，它作为**字符串**（string）从键盘传来——也就是说，是文本。

那么，如果我们最终不希望将那些输入视为字符串，而是希望将它们视为实际的数字，我们该如何解决这个问题呢？我们需要另一个函数。事实证明，在 Python 中，你有时可以从一种数据类型转换为另一种数据类型，例如，从字符串转换为 INT，可以这样做。

让我回到我的代码中，在将 x 加到 y 之前，让我将 x 改为 x 的**整数**版本，加上 y 的**整数**版本。所以 `z = int(x) + int(y)`。事实证明，`int` 不仅是 Python 中的一种数据类型，它也是一个函数，而且如果你传入一个输入，比如一个字符串，只要那个字符串看起来像一个数字，比如 1 或 2，它就会将其转换为一个你可以进行数学运算的实际数字。

所以如果我现在回到我的终端窗口并运行 Python——让我给你展示另一个技巧。“Calculator” 这个词有点长。输入起来有点繁琐。注意我在我的终端窗口，通常在命令行界面中可以做什么。如果我开始输入 C-A-L 代表 calculator，我实际上可以按 Tab 键来完成我的想法。所以在像这样的终端窗口中可以实现自动补全。输入第一个字母或几个字母，然后，砰，用 Tab 键，它会为你完成你的想法。或者你可以像我用上下箭头那样，回顾你的历史记录。

让我执行这个。What's x? 1. What's y? 2. 好了。现在我们有了一个通用的计算器，它不仅支持 1 和 2 的加法，现在还支持用户输入的任意两个整数。

现在让我改进这个，对吧？我们已经看到了如何改进代码，我不知道这是否一定会更好，但让我们试试这个。我真的需要 z 变量吗？值得注意的是，我创建了一个名为 z 的变量，然后我立即在下一行代码中使用了它。现在这没那么有说服力，因为如果你创建了一个变量然后立即使用它，但之后再也没有使用过它，你真的需要花时间引入另一个符号和另一个变量，只为了使用一次且仅一次吗？嗯，也许不需要。也许我们并不真的需要 z。也许我应该这样做。也许我应该去掉这里的 z。也许我应该把这个改成 `int` 在上面这里，把这个改成 `int` 在上面这里，做一些现在相当有趣的事情。尽管这是一点新的语法，注意你可以所谓地**嵌套函数**（nest functions）。你可以把一个函数调用，也就是一个函数的使用，放在另一个函数使用的内部，这样内部函数的返回值就成了外部函数的参数或输入。就像在数学中，如果你有括号套括号套括号，你的老师可能教过你先关注最内层括号里的内容，然后向外推。编程也是一样。Python 就是这样做的。它会先看括号里面是什么，得到答案，然后把返回值传递给最外层的函数。

所以现在第 1 行发生的是，`input` 函数先被调用，然后它的结果，比如 `"1"`，成为 `int` 函数的输入，第 2 行也是如此。`input("What's y?")` 的输出成为这个 `int` 函数的输入。现在没有 z 了。我可以只做 `print(x + y)`。因为我已经花时间将那些字符串都转换成了整数，我想我们没问题了。

所以让我试试这个，`python Calculator.py`，回车。1 和 2，我们仍然得到 3。不是 12，或者说不是一千二百，我们确实得到 3。而且我们还去掉了那个变量，因为它似乎不是必需的，特别是如果只使用一次的话。

**问：** （听众提问关于哪种方式更好）

**答：** （针对认为新版本更好的听众）我认为这种方式更好，因为它让我们能立即看到 x 和 y 变量是整数，所以我们知道对它们有什么期望。而且 print 的参数更直观。我们避免了代码中过多的混乱。

**答：** （回应）我认为这些都是很好的理由。它简洁明了。代码行不是很长。我不需要知道 z 是什么，因为它不存在。只看到 `print(x + y)`。我喜欢这个。

**答：** （针对认为旧版本，即有 z 变量的版本更好的听众）是的，你好。我认为早期的版本更好，因为当——我的意思是，如果用户输入了除了，比如说，整数以外的其他东西，比如说，他们输入 1 和 2，像这样（可能是指文字"one"和"two"？），那么调试起来会更容易。

**答：** （回应）这个版本还是——这个版本还是旧版本？（听众确认是旧版本）好的，这很公平。事实上，我今天一直非常小心，尽量不出错。到目前为止，当我期望整数时，我只输入了整数。Raoul 实际上指出了我们接下来几周会回过头来看的一个问题，我们如何实际处理错误？如果用户没有输入数字 1 或数字 2，或者根本不是数字呢？如果他们输入了一个单词，比如 cat，C-A-T？那不是一个数字，我敢打赌我无法将它转换为整数。但今天，我不关注那个。我只是希望用户会合作。但情况不会总是这样。所以也许有一种方式能让我们在处理那些错误时更容易成功。

就今天的目的而言，哪个更好？嗯，我是说，我都喜欢。而且我认为你们双方都提出了非常有力的论点。只要你能给出一个感觉相当合理的理由，最终这才是重要的。再次强调，要培养对这里权衡的意识。这种方式更好吗？如果是，为什么好或为什么不好？仅仅是理解那些权衡是什么。但总的来说，优先考虑可读性是非常好的。让你的代码对别人来说可读是非常好的，对你自己也非常有好处，这样当你第二天早上醒来，或者下周、下一年回来时，你也能读懂你自己的代码，而不必浪费时间去回想你做了什么。简洁性通常也是一件好事——保持代码简单。

所以当你对编程越来越熟悉时，你可能会试图把整个程序合并成一个长长的行。例如，让我这样做。严格来说，我们并不真的需要 x 变量。我们并不真的需要 y 变量。我们也可以这样做——我可以完全去掉 x 和 y。然后我现在可以去掉那个，让它只有一行代码。 `print(int(input("What's x? ")) + int(input("What's y? ")))`。好吧，从某种意义上说，你可能倾向于认为，哇，真不错。你把它变成了一行简单的代码。但我认为这实际上并不那么简单。现在我觉得我开始嵌套太多东西了。我必须考虑 `print`、`int` 和 `input`。然后我必须注意到，好的，我打开了两个括号，我关闭了两个。还有一个 `+`。你让我思考太多了，任何时候你让我思考，你都在浪费时间。任何时候你像这样把代码的外观复杂化，你只会增加出错的概率，无论是技术性错误还是逻辑错误。所以在我们做过的所有事情中，这是我唯一会争论说，是的，它是一行，很紧凑，但它就是不够可读。我会避免这样做，特别是因为其中两个函数调用是从用户那里获取输入。但同样，理性的人可能会有不同意见，但这就是当你看到代码开始变得有点太复杂，有点太聪明，也许是弄巧成拙时，你应该有的那种本能反应。



我们能接触到的不仅仅是整数。让我建议我们从整数过渡到这里的另一种数据类型，即**浮点数**（float）。所以，再次强调，字符串是一段文本。INT 是像 -1, 0, 1 这样的整数。Float 是带小数点的数字，正式称为浮点值（floating point value）。你可以把浮点想象成小数点可能在这里或那里，左边或右边有若干位数字。在数学上，它是一个实数，一个包含小数点的数字。这是 Python 支持的第三种数据类型。

目前我们的计算器有点天真地假设用户只会输入整数，但如果我也想支持浮点值，我想我只需要做一些调整。

所以我回到 VS Code。与其只在第 1 行和第 2 行将用户的输入 x 和 y 转换为整数，不如让我们做一个简单的改变。让我们实际上在第一行将其转换为**浮点数**（float），在第二行也转换为浮点数。现在我想，如果我到我的终端窗口运行 `python Calculator.py`，让我们输入像 1.2 这样带小数点的数字，和 3.4 这样带小数点的数字，好了。我们得到的最终答案是 4.6。所以如果我之前只期望用户输入整数，这是行不通的，但现在我期望浮点值并作了调整，我实际上也可以进行浮点运算了。

但假设我并不真的希望最终答案是一个像 4.6 这样的浮点值。如果我们只是四舍五入到最接近的整数，我会很高兴。所以我想支持用户输入带小数点的浮点值，但最终，我只想把结果四舍五入到最接近的整数，例如。

事实证明，这里 Python 也自带了一些内置功能。实际上，如果我们回到之前那个列出了所有 Python 内置函数的 URL，有一个叫做 `round` 的函数，它做的正是我们期望的，它接受一个数字作为输入，然后为我们进行四舍五入，例如，到最接近的整数。但如果我们仔细看看那个文档，就像我们在这里可以看到的——我提供一个摘录——这就是函数在文档中的样子。回想一下，之前我们看了 `print` 的文档，这个在精神上是相似的，它不仅向我们展示了函数名，还展示了它的可用形参，也就是我们在使用这个函数时可以提供的输入。但这也有点晦涩，就像 `print` 一样，并且它增加了一些语法。让我们看看。这个函数的名字当然是 `round`，它的第一个参数是一个数字。注意这次没有星号，没有像 `print` 那样的 `*objects`。`round` 函数只接受一个数字作为它的第一个参数，句号。这是它的位置形参。但注意这个语法。这是编程或更广泛的技术领域的一个惯例，通常，当你在像这样的文档中看到方括号时，这意味着你即将看到**可选**（optional）的东西。所以这意味着如果你想更精确地指定你希望 `round` 函数四舍五入到的小数位数，你可以在这里通过添加一个逗号然后那个数字来指定它。所以如果我们阅读文档，如果你不指定小数位数，只指定要四舍五入的数字，它会四舍五入到最接近的整数。但假设你想四舍五入到十分位，或者百分位，也就是小数点后一位或两位，你可以额外传入 `, 1` 或 `, 2` 来更精确。这就是那里的文档所说的。

让我们看看能否将这个转换成我们实际的代码。如果我现在回到 VS Code，并考虑到我想对 x 和 y 的和进行四舍五入，我可以用几种方法来做。我可以做 `round(x + y)`，但是，你知道吗，我实际上更倾向于现在把它分成两行。我不是必须这样做，理性的人在这里可能会有不同意见，但我想回到打印 z 的场景，这样我可以对自己、对别人更清楚地说，`z =` x + y 的四舍五入结果。这不一定是更好的方法，但我更习惯于一次只表达一个想法，特别是如果我想开始注释这些代码块的话。

好了，我现在到我的终端窗口运行 `python Calculator.py`。What's x? 让我们再做一次 1.2。然后让我们做 3.4。之前是 4.6，但现在它已经被四舍五入到最接近的整数，那当然就是 5 了。

好的，如果我想进一步改变这个呢？如果我想支持也许非常大的数字呢？大数字，不管四舍五入如何，让我们只做类似这样的事情。让我运行 `python Calculator.py`，然后我只加 $999 + 1$。注意，我不需要输入小数点，即使我正在转换为浮点数，我的程序只会允许我输入小数点，但我不需要必须这样做。这里的答案当然应该是，并且实际上是 1000，无论我们是否四舍五入。所以这只是这里的整数运算。

但在美国，我们倾向于通过在每三位数字之后或之前放置逗号来格式化长数字。其他国家则相反，他们使用句点和逗号。这是一个系统设置。你可以在自己的 Mac、PC 或设备上为 Python 或任何语言更改它，但对我来说，我这里使用的是美国的方法，即用句点表示小数点，用逗号表示分隔符。如果我想让它输出为 `1,000` 呢？只是为了让它更清楚是 1000 而不是像 100 这样的东西。当它像一百万——`1,000,000` 时，这就更有用了。如果我们能自动输出那样的数字，岂不是很好？

嗯，事实证明我们可以。有一种使用 Python 的方法可以实际指定我们想要包含像这样的逗号。这里我们有机会带回我们的老朋友，f-string。

首先，让我做一些没什么成效的事情。首先让我这样做。让我打印出 z 的值，但是等等。我不能只说 `"z"`，因为那会直接在屏幕上打印 z。所以让我像之前那样用花括号把它包起来，但这还不够。我确实需要在我的字符串开头加上一个 F 来告诉 Python 这是一个 f-string，一个格式化字符串。这现在将打印出，不是很有趣，只是 z 本身的值。所以我费了很大劲只是为了打印 z，而实际上我本可以只把 z 作为唯一的参数传递。但只是为了确保我没有破坏它，让我们再做一次。$999 + 1$，回车。好的，仍然是 1000。所以我没有让任何事情变得更糟。

但是注意——这个语法不幸地有点晦涩——注意我实际上可以这样做。我可以在 z 后面放一个冒号，然后在那之后放一个逗号。`f"{z:,}"`。这看起来非常晦涩，无可否认，即使是我也必须经常在文档中查找像这样的东西来记住语法。但在这里，让我再次运行它。`python Calculator.py`，999，1，现在注意数字已经自动为我格式化了。如果我在不同的国家或地区，我完全可以覆盖它，使用句点而不是逗号，反之亦然。但在这种情况下，它只是自动为我发生了。所以那里我们也看到了真正格式化字符串意味着什么的一点暗示。那里甚至内置了更强大的功能。

**问：** 是的，所以当使用浮点数时，它能拥有的小数点位数是否有上限？

**答：** 非常好的问题。是的，对于浮点数，这是一个我们不久后会重新讨论的问题。浮点数不能无限精确地表示数字。简而言之，因为计算机只有这么多内存。它们只有有限的内存量。你我计算机内部只有有限的硬件，所以在某个时候，它们将不得不进行四舍五入。现在我是自动进行四舍五入。实际上，计算机最终将不得不为我们这样做，但我们很快会将此视为一个基本问题。



请允许我再回头看几个关于浮点数的最后例子，在我们介绍最后几个例子之前，这些例子不仅允许我们使用函数，还允许我们创建自己的函数。

让我建议我们也尝试一下除法。让我建议我们现在修改这个计算器，仍然接受几个浮点数，但现在让我们只做一些比这个更简单的事情——与此稍有不同，只做 x 除以 y (`z = x / y`)。让我去掉我的格式化字符串，暂时保持简单，只打印出 z。

我们在这里会看到什么？嗯，只是一些简单的除法。所以 `python Calculator.py`，让我们做类似 2 除以 3，当然我得到 0.66666...。回答刚才 Ethan 的问题，它看起来确实是有限的。它在这里没有以奇怪的方式四舍五入，但我似乎只看到了这么多位数。这是使用浮点数不可避免的结果。相比之下，只是让你知道，如今 Python 中的整数可以是你想要的任意大。与其他语言不同，现在 Python 中 INT 能有多大没有上限，但浮点值的精确度是有界的。

好了，既然我已经让简单的除法工作起来了，让我们把它四舍五入。把这个非常长的数字 0.6666666... 四舍五入到比如只有两位小数会很好。我们已经看到了如何用 `round` 来做到这一点，至少在其文档中是这样。让我们把这个四舍五入，不是到最接近的 INT，通过只传入 x 除以 y，这是一个参数，一旦括号内的数学运算完成，我不想只传入一个参数。我想传入两个，这样我就可以指定 n 位数，也就是 `round` 的第二个形参。让我运行 `python Calculator.py`。我做同样的事情——2 然后 3，得到 0.67。所以这里我们也看到了一种现在四舍五入的方法，不仅是到最接近的整数，而且是到指定的小数位数。

但这里还有另一种方法可以做到这一点。事实上，这又引出了我们的 f-string 例子。让我改变这个。假设你不记得 `round` 函数，或者由于某种原因你不想使用它。你只想使用格式化字符串。好吧，让我们这样做。让我做 `"z"`，但用花括号把它包起来。在开头加上 F，再次强调，这还不算有趣。这只会打印出 z，但我增加了很多复杂性来把它变成一个 f-string。但是注意我可以在我的变量名后面，在冒号后面做一些其他事情。如果这是一个大整数，我可能想用逗号像之前那样来分隔每三位数字。但我不用。我将使用一个不同的字符序列。我将说 `.2f`。`f"{z:.2f}"`。这又是一个我必须经常查找的非常晦涩的东西，因为如果我不经常使用它我就会忘记。所以如果这看起来特别奇怪，不要被吓倒，但这根据文档，是使用 f-string 指定你想打印多少位数的方式。

所以让我运行这个版本的计算器。输入 2 然后 3，我们得到完全相同的东西。但再次强调，这只是与我的论点一致，即在编程中我们常常可以用多种方式解决同一个问题。这只是现在解决同一个问题的 f-string 方法。

哪个更好？视情况而定。在这种情况下，它们几乎等同。但你可以想象，有时使用函数会很有用，这样你可以传入一个像 n 位数这样的参数作为第二个参数，或者你可以想象只是预先决定你想要 0.2，然后像这样写。

## VI. 自定义函数与作用域

让我们现在从关注字符串、整数和浮点数，转向关注函数本身。我们今天开始时关注的是如何使用 Python 自带的函数。但如果你能发明自己的函数，岂不是更好？特别是，回到我们之前的观点，如果你发现自己一遍又一遍地解决同一种问题？Python 自带 `print` 函数很好，因为能够在屏幕上打印东西真的很有用，但如果你可以通过只调用你自己的函数就能在屏幕上打印特定的东西，岂不是更好？

让我建议我们这样做。让我回到 VS Code，让我建议我们回到 `Hello.py`。我将重新打开我们之前离开的 `Hello.py`，现在我建议我们考虑如何通过创建我们自己的函数来开始进一步改进它。我今天写了很多只说 "Hello" 的程序，每次我都使用 `print`。但如果从今天一开始，我们就能只调用一个名为 `Hello` 的函数，它就为我们说 "Hello"，那岂不是很好？现在，多年前 Python 的作者们并不认为我们需要一个专门的函数只为了说 "Hello"，但我希望它存在。我说了这么多次 "Hello"，我只想能够调用一个 `Hello` 函数。

所以我将从头开始。我将删除我之前的所有代码，暂时假装一个名为 `Hello` 的函数存在。我将像之前一样做。我将用 `input` 函数获取用户的名字，询问“What's your name?”。现在我将调用一个 `Hello` 函数，然后我将打印出用户的名字。现在我承认，`Hello` 不存在，所以坏事即将发生，但让我们看看会发生什么。

让我到我的终端窗口。让我运行 `python Hello.py`。我想第一行应该没问题，因为之前是有效的。确实，它在提示我输入名字。所以我输入 David。第二行代码显然在调用一个看起来叫做 `Hello` 的函数，为什么说它是函数？因为它后面紧跟着一个左括号和一个右括号。我们用过的每个函数都是这样的。但 Python 不会识别这个。当我按下 Enter 时，我得到了一个 NameError（名称错误）。名字 "Hello" 未定义，你是想输入 Help 吗？我不是，尽管此时我确实需要一些帮助，这很应景，但我遇到这个错误是因为什么？这个函数根本不存在。

那么我该如何让这个函数存在呢？我需要自己使用这个关键字 `DEF` 来创建它，DEF 代表 **define**（定义）。所以这里也一样，就像 STR 是 string 的缩写，INT 是 integer 的缩写一样，DEF 是 define 的缩写。如果你想定义、创建、发明你自己的函数，你可以现在使用 Python 中的这个关键字来做。

所以让我回到我的代码，让我建议我们也许这样定义它。在我文件的最顶端，我将首先花点时间定义一个名为 `Hello` 的函数，使用 `def Hello():`，圆括号，冒号。这现在意味着 Python 将把我在此行下面缩进的每一行代码都视为这个新函数 `Hello` 的含义。所以 `DEF` 很重要，空格也很重要。我可以选择函数的名字，我选择叫它 `Hello`。里面什么都没有的括号意味着这个函数目前不接受任何输入，那里也没有参数。冒号意味着，请注意接下来的缩进。在这行代码下面缩进的所有内容都将是这个函数的一部分。这将是一个超级短的函数——一行代码——它只会打印出 "Hello."。

但现在在第 1 行和第 2 行，我已经发明了我自己的函数 `Hello`。注意这些现在神奇出现的点。这只是我的文本编辑器，在这种情况下是 VS Code 的一个设置，它只是非常明确地向我表明我按了四次空格键，或者相当于按了一次 Tab 键，它被自动转换成了四个空格。一般来说，我现在需要确保我所有缩进的代码都对齐，这样 Python 才知道它们都属于同一个东西。但在这种情况下很容易，因为它只有一行。但现在，多亏了第 1 行和第 2 行，当我准备在第 6 行使用它时，`Hello` 函数绝对会存在。

所以让我到我的终端窗口运行 `python Hello.py`，回车。我的名字又来了。现在当我按 Enter 时，我现在看到 "Hello, David"。

好的，我们好像有点退步了，对吧？这远没有以前那么漂亮了。我想我们可能可以通过进一步改进来做得更好。

为什么不考虑一下，我们如何**参数化**（parameterize）这个相同的函数呢？也就是说，我们能否定制 `Hello`，让它也许接受用户的名字作为输入，这样我们不仅能说 "Hello"，还能在同一行、一气呵成地说出那个人的名字？

我想我们可以这样做。让我建议我们这样做。让我回到我的代码里，在这些括号内部，让我自己想一个参数名。我在这里有完全的选择权，我将把我的参数名设为单词 `to`。为什么？因为我想让我的函数听起来像它所代表的动词——Hello。但你想对谁说 Hello？我将把这个函数的参数命名为 `to`，只是因为在英语中，对我来说这样听起来不错。`Hello to`，你想对谁说 Hello？这就是为什么我把这个参数叫做 `to` 而不是像 x 或 y 或 z 这样更简单的东西。

好吧，我想用 `to` 这个词做什么呢？嗯，我可以做几件不同的事情。我们已经看到了实现 Hello 的很多种不同方式。让我只是为了语法起见在那里加一个逗号。然后让我把 `to` 这个词放在那后面，作为 `print` 函数的第二个参数。我们还有其他方法可以做到这一点，我们已经看到了很多，但这个对我来说看起来更清晰一些，我会说。

接下来会发生什么？嗯，我想我不需要这里额外的 `print` 行了。我想我将这样做，我将在这里打印的不是手动输入的人名，我将改为说，`Hello(name)`。

那么我现在在做什么？在第 1 行和第 2 行，我正在定义我自己的名为 `Hello` 的函数，但这次这个函数被设计为接受一个参数，一个单一的参数作为输入。我正在使用那个参数的值，我称之为 `to`，将其插入到 `print` 中，这样我不仅看到 "Hello"，还看到那个人的名字。我在第 5 行做什么？和往常一样，我只是获取用户的名字。第 6 行，我不仅调用 `Hello`，我还将 `name` 变量作为**实参**（argument）传入，这样它就被传递给了 `Hello`。这里发生的事情本质上是这样的——即使这里的变量叫做 `Name`，当函数本身被调用时，计算机会假定那个相同的值现在叫做 `To`。所以 `Name` 本质上被复制到了另一个叫做 `To` 的变量中，这样在 `Hello` 的上下文中，我就可以对那个变量说 Hello 了。我们稍后会看到如果我们不把这些搞清楚会发生什么。

让我运行 `python Hello.py`，回车。What's your name? 现在我祈祷着。回车。好了。我们又恢复正常了，但现在我有了我自己定制的名为 `Hello` 的函数，它允许我对特定的人说 Hello。

现在事情可以变得非常花哨了。如果你想让你的 `Hello` 函数对某个特定的人说 Hello，但是，你知道吗，如果你不知道你想对谁说 Hello，你想对整个世界说 Hello，你可以给参数**默认值**（default values）。我们已经见过这个了。回想一下，`print` 有一个 `sep`（分隔符）的默认值。有一个 `end`（行尾）的默认值。我们也可以这样做，这是语法。如果你希望这个参数的值，在程序员没有提供的情况下，默认等于 "world"，你就在定义函数的那一行直接这样做：`def hello(to="world"):`。我承认，它开始看起来更晦涩了，但我仍然只是在定义一个名为 `Hello` 的函数，它接受一个名为 `to` 的参数，但我用等号给它赋了一个默认值 "world"，以防程序员调用 `Hello` 时不带参数。

我们可以看到这一点。让我修改我的代码，以两种方式使用 `Hello`。在第 5 行，我将非常简单地调用 `Hello`，不带参数。然后在第 6 行，我获取名字。第 7 行，我将带参数调用 `Hello`。所以你会看到 `Hello` 现在以两种方式被使用。

让我运行 `python Hello.py`。我输入我的名字。哦，有趣。注意我已经看到了 "Hello, world"，但这是预料之中的，因为第 5 行在第 6 行之前发生，但一旦我输入了我的名字，现在程序会更礼貌一些，对我个人说 hello。

所以那里我们也看到了，用相对简单但新的语法，你如何能实现与 `print` 函数自动提供给我们的功能在精神上非常相似的功能。现在你可以自己控制来做那件事了。

但现在让我提出这一点。定义你自己的函数的全部意义之一，就是避免一遍又一遍地重复自己。你不必真的不断地重新发明轮子，一遍又一遍地使用 `print` 函数，如果你只是想说 Hello 的话。

如果我现在能把我写的用于定义 `Hello` 函数的代码移动一下，岂不是很好？为了戏剧化一点，我将按很多次回车键，向下移动 50 行，然后把我的 `Hello` 定义放在这个文件的更下方。为什么？嗯，只是本着眼不见心不烦的精神，因为如果我现在回到程序的开头，现在你可以理所当然地认为，哦，`Hello` 是一个函数。为什么？因为它在第 1 行，并且它有一个左括号和一个右括号，到目前为止，这都意味着调用这个函数。然后在第 2 行，我们通过用户输入他们的名字来获取一个变量，然后我们调用 `Hello`，传入那个值。好了，到目前为止，我可以理所当然地认为 `Hello` 存在，即使它在文件的更下方，或者像我们将在未来几周看到的，即使它在完全不同的文件中。

但这里有一个问题。让我运行这个版本的 `Hello.py`。注意，一旦我运行解释器，`python Hello.py`，我看到了一个 NameError，名字 Hello 未定义。再次地，你是想输入 Help 吗？嗯，再次地，很贴切。我现在确实需要一些帮助，但我不是想调用 Help 函数。这里的问题是，Python 只是严格按照我的字面意思来。我把我的 `Hello` 函数定义在了最下面这里，但我试图在最上面这里使用它。这是不允许的。Python 的解释器会严格按照你的字面意思来，如果你使用一个函数，它必须在你调用它的时候就已经存在了。

那么我该如何修复这个问题呢？嗯，显然我不能那样做。我必须把我想要的任何函数定义在文件的最顶部，但这最终也可能给我带来一点麻烦，因为如果我总是必须在我想要使用它的地方上面定义一个函数，你就有点像在反向编写代码了，你总是在这里、这里、这里编写函数，而不是按照逻辑自上而下地编写代码。

所以让我用一种更标准的方式来修复这个问题，那就是这样做。一般来说，你确实想把你代码的主要部分放在文件的顶部。事实上，我将更进一步，定义我的函数，叫做 **`main`**。这不是必需的，但这是一种惯例，这只是向读者表明这是我程序的主要部分。我现在将去掉我空的 `Hello` 调用，只传入一个带 `Hello(name)` 的版本。然后在这里下面，再往下几行，我将实际定义我的 `Hello` 函数。

不幸的是，既然我已经以这种方式重新排列了函数，把我的代码的主要部分放在顶部，把 `Hello` 放在底部，这样我的逻辑就有点自上而下地流动了，如果我运行 `python Hello.py`，回车。什么都没发生。如果我再做一次，什么都没发生。嗯，这到底是怎么回事？

嗯，仅仅因为我定义了一个名为 `main` 的函数，并且我定义了一个名为 `Hello` 的函数，并不意味着我已经实际调用了——也就是使用了——它们中的任何一个。是的，我在 `main` 内部使用了 `Hello`，但是没有人告诉 Python 实际使用或调用 `main`。所以为了整理这个，我需要在这个文件中做的最后一件事，似乎是实际**调用我的 `main` 函数**。而且，事实上，通过以这种方式调用我的 `main` 函数，它让我摆脱了困境，因为现在我先定义 `main`，但我还没有调用 `Hello`。我接下来定义 `Hello`，但我接下来也没有调用 `Hello`。我只在这个文件的最末尾调用 `main`，这产生了运行上面这里代码的效果，这产生了运行下面这里代码的效果，它因此允许我以任何我想要的方式组织我的文件和排列我的函数，包括把 `main` 放在最顶部，并最终解决了 Python 不知道发生了什么的问题。



重要的是要注意，我将我的 `Hello` 函数定义为接受一个参数 `to`，然后我将我想对其说 Hello 的变量的值，也就是名为 `Name` 的变量，传递给了那个函数。

因为假设我做得有点不一样。假设我没有将 `Hello` 定义为接受参数，所以我只是删除了对 `to` 及其默认值 "world" 的提及。然后我回到我的 `main` 函数，只调用 `Hello` 本身，不传入任何参数。现在让我再做一个改动，严格来说是另一个错误，让我尝试天真地在 `Hello` 函数中打印出 `Name` 的值。

所以现在要清楚，在我的 `main` 函数的第 2 行，我定义了我的名为 `Name` 的变量，并将用户通过 `input` 函数输入的返回值赋给了它。然后我只调用 `Hello`。在我的 `Hello` 函数中，它现在不再接受任何参数，我调用 `print`，传入 "Hello, "，然后立即传入 `Name`，也就是我获取用户输入的那个变量。但问题在于 `name` 现在只存在于 `main` 中。

所以看看当我尝试运行这个版本的程序时会发生什么，用 `python Hello.py`。我按 Enter。提示我输入名字，D-A-V-I-D，Enter。啊！一个 NameError。名字 "Name" 未定义。

事实证明，这实际上是一个所谓的**作用域**（scope）问题。作用域指的是一个变量只在你定义它的上下文中存在。所以既然我在我的 `main` 函数中定义了这个变量 `Name`，我就只能在我的 `main` 函数中使用那个变量。我不能像我在这里尝试的那样，在我的 `Hello` 函数中使用它。它在那个所谓的作用域中不存在。这就是为什么现在，如果我回退并撤销所有那些更改，你会看到我刻意地将 `name` 从我的 `main` 函数传递到我的 `Hello` 函数中。现在在 `Hello` 函数中，它严格来说有不同的名字。在那个上下文中它叫做 `to`，但这没关系。完全由每个单独的函数来命名它自己的变量或它自己的参数，但这是我现在将那个变量的值交给 `Hello` 函数的一种方式，这样它也可以被 `Hello` 打印出来。



这里我们可以添加最后一个点睛之笔。既然我们已经实现了 `Hello`，你会注意到 `Hello` 只有一个所谓的副作用。它只在屏幕上打印出一些东西。嗯，如果我也想让我的函数不产生副作用，而是实际**交还**给我一个值呢？回想一下 `input` 函数返回一个值，即用户输入的字符串。回想一下 `int` 函数返回一个值。`float` 函数返回传递给它的值的转换结果。你可以使用最后一个关键字，`return`，来明确地自己返回一个值。

事实上，让我回到 VS Code，我想我们将把注意力转回到 `Calculator.py`，看看我们能否实现 `Calculator.py` 的另一个版本，它实际上有我们自己的函数，甚至还返回一个值。

所以我将打开 `calculator.py`，我想这次我将像之前一样扔掉所有东西，只开始实践我们所宣扬的。定义一个名为 `main` 的函数，它现在将是我函数的主要部分。让我们现在声明一个名为 x 的变量，并将其赋给用户输入内容的转换后的版本，在询问他们“What's x?”之后：`x = int(input("What's x? "))`。再次强调，这是我们之前做过的非常类似的一行代码。

假设现在我想做的是**平方**（square）这个值。我想取用户输入的数字，然后把它提高到 2 次幂。所以 2 的平方是 4。3 的平方是 9。4 的平方是 16，依此类推。嗯，我该如何实现一个字面上叫做 `square` 的函数，而这个函数 Python 本身并没有内置呢？

好吧，让我暂时假设它确实存在，然后让我说类似这样的话——让我说打印，`print(f"x squared is {square(x)}")`。那么我做了什么？我定义了一个名为 `main` 的函数，并实现了两行。第一行提示用户输入一个值 x，将其转换为 INT，并存储在名为 x 的变量中。在第 3 行，我然后说 "x squared is"，然后我向 `print` 函数传递第二个参数，也就是 `square` 函数的返回值。

但是 `square` 不存在，我在这里给你展示一下，如果我现在在底部调用 `main`，然后运行 `python Calculator.py`，我会看到 x 是 2，然后我看到一大堆错误，一个 NameError，名字 Square 未定义。所以这里不是拼写错误，只是函数不存在。

但我想我可以让它存在。让我定义另一个名为 `square` 的函数。这个函数将接受一个数字，我将通用地称之为 n，就像许多程序员会做的那样，只是为了代表任何一个旧数字。然后我想做什么来平方 n 呢？嗯，一个数的平方实际上只是它自己乘以它自己，所以我将这样做——`n * n`。但仅仅自己做数学运算，`n * n`，是不够的。你将必须**返回**（return）实际的值 `n * n`，这就是我们这里的新关键字。

当我这样做时，看看会发生什么。`python Calculator.py`，回车。X 比如是 2，x squared is 4。让我现在说 x 现在是 3。X squared is 9。所以我实现了我自己的函数，它返回一个值的平方，并且因为我使用了 `return` 关键字，这确保了我可以将它的返回值，就像 `input` 或 `int` 或 `float` 的返回值一样，传递给另一个函数，比如 `print`。

这里也有很多方法可以解决同一个问题。我实际上可以将 n 提高到 2 次幂。我们之前没有见过这个语法，但如果你使用两个星号像这样，`n ** 2`，两个星号，它会将左边的东西提高到右边的幂。或者事实证明 Python 中有一个名为 `pow` 的函数，用于将某物提高到某个幂次，它接受两个参数，第一个是数字，第二个是指数：`pow(n, 2)`。所以那里也有很多方法可以实际解决同一个问题。

## VII. 代码风格与最佳实践

（将之前关于代码风格的讨论整合到这里）

在我们讨论不同实现方式时，比如将多个字符串方法链接在一起（`name.strip().title()`）或者嵌套函数调用（`int(input(...))`），我们遇到了关于代码风格的问题。哪种方式更好？

**问：** （听众提问关于 `name = input(...).strip().title()` vs 分开写哪种更好）

**答：** （认为链接版本更好的听众）我认为这样更易读。我可以说，这是 name 变量，它获取一些输入，然后移除空格并给它一个标题。然后就好了。你得到了 "hello, name"。

**答：** （回应）是的，我认为这很合理。它非常易读，至少如果你习惯于像在英语中那样从左到右阅读的话。它因此非常自然地流动。这行代码也不是很长。它肯定很好地适应了屏幕。所以我认为这是一个很好的论点。

**答：** （认为分开写更好的听众）因为它根本不易读。看起来是非常长的一行。所以我认为分开更好。

**答：** （回应）是的。我认为那也很有说服力，对吧？它变得有点长了。尽管我这里的句子——"What's your name?"——相对较短，但你可以想象，如果我问用户一个更长的问题，这可能会很快变得更难看，那会使这行代码更长，因此更不易读。对我或我的同事来说，我调用了 `strip` 或我调用了 `title` 可能就不那么明显了。这可能有点出乎意料。所以我认为那也很合理。

简而言之，这里没有唯一的正确答案。事实上，提升编程能力的过程的一部分就是形成你自己的**风格感**（sense of style），或者为一家可能规定哪种方式优于另一种的公司工作，因为他们只是希望每个人都做同样的事情，即使理性的人可能会有不同意见。

然而，最终，只要你能为一个方式或另一个方式提出一个相当好的论点，最终这才是重要的。如果你只是因为不太清楚哪个更好而随意做，那就不太好了。但是如果你开始形成自己的观点，并且如果你的老板、你的老师、你的同事、你的朋友可以挑战你说，等等，你为什么这样做？他们可能不同意你，但至少要有一个答案，这通常应该足够有说服力。

总的来说，优先考虑**可读性**（readability）是非常好的。让你的代码对别人来说可读是非常好的，对你自己也非常有好处，这样当你第二天早上醒来，或者下周、下一年回来时，你也能读懂你自己的代码，而不必浪费时间去回想你做了什么。**简洁性**（simplicity）通常也是一件好事——保持代码简单。但要警惕过度追求简洁而牺牲可读性，就像我们看到的那个把所有东西都塞进一行的计算器例子。在可读性和简洁性之间找到平衡很重要。

## 结论

那么最终，我们在这里做了什么？我们首先介绍了**函数**——这些动作或动词，其中许多是 Python 内置的，你可以直接在自己的代码中使用。然后我们介绍了**变量**，通过它们你可以存储那些**返回值**，然后也许用它做更多的事情。最终，你现在也有能力创建、发明你自己的函数来解决简单的问题，比如 `Hello`，或者在接下来的几周里——解决更复杂、更具挑战性、更有趣的问题。



---

# 要点回顾

**I. 编程入门与环境设置**
- 课程介绍：CS50P 是哈佛大学的 Python 编程入门课程。
- 第一个程序 (`hello.py`)：
    - 使用 `print()` 函数输出文本，例如 `print("hello, world")`。
    - Python 文件通常以 `.py` 结尾。
- 编程工具：
    - 推荐使用文本编辑器或集成开发环境 (IDE)，如 Visual Studio Code (VS Code)。
    - VS Code 等工具提供语法高亮、自动补全、集成终端等便利功能。
    - 代码本质是纯文本，理论上任何文本编辑器都可编写，但不推荐使用 Word 等富文本编辑器。
- 代码执行：
    - 通过命令行界面 (CLI) 或终端 (Terminal) 与计算机交互。
    - 使用 Python 解释器 (Interpreter) 来运行 `.py` 文件：`python hello.py`。
    - 解释器负责将 Python 代码翻译成计算机能理解的指令 (机器码/字节码)。

**II. 函数、参数与变量**
- 函数 (Function)：
    - 代表一个动作或”动词“，执行特定任务 (如 `print`)。
    - Python 内置了一些常用函数。
- 参数 (Argument)：
    - 传递给函数的信息，用于影响函数的行为 (如 `print` 函数的参数是想打印的内容)。
- 副作用 (Side Effect)：
    - 函数执行时产生的可观察效果，如在屏幕上打印输出。
- 返回值 (Return Value)：
    - 函数执行后”交还“给调用者的结果。
    - `input()` 函数用于获取用户输入，并将其作为字符串返回。
- 变量 (Variable)：
    - 用于存储数据的”容器“或”标签“。
    - 使用赋值运算符 ` = ` 将右侧的值存储到左侧的变量中 (例如 `name = input("What's your name?")`)。赋值方向是从右到左。
    - 变量名应具有描述性。
- 使用变量：
    - `print(name)` 会打印变量 `name` 中存储的值。
    - `print("name")` 则会直接打印字符串 "name"。

**III. 代码注释与调试**
- 注释 (Comment)：
    - 使用 `#` 号添加单行注释。
    - 注释是写给人类看的笔记，Python 解释器会忽略它们。
    - 用于解释代码意图，提高可读性。
- 伪代码 (Pseudocode)：
    - 在编写实际代码前，用自然语言（如中文或英文）描述程序步骤和逻辑。
    - 常作为注释来规划代码结构。
- Bug 与调试 (Debugging)：
    - Bug 是程序中的错误或缺陷。
    - 调试是找出并修复 Bug 的过程。
    - 语法错误 (SyntaxError) 是常见的 Bug 类型，例如括号、引号未闭合。
    - 编程中遇到错误和进行调试是正常且必要的过程。

**IV. 字符串 (String) 处理**
- 字符串 (`str`)：
    - Python 中表示文本的数据类型，用单引号 (`'...'`) 或双引号 (`"..."`) 包裹。
- 字符串操作：
    - 拼接：使用 `$+$` 运算符连接两个字符串 (例如 `"Hello, " + name`)。
    - f-Strings (格式化字符串字面量)：一种现代且推荐的字符串格式化方法。
        - 在字符串前加 `f`。
        - 在字符串内使用花括号 `{}` 嵌入变量或表达式 (例如 `f"Hello, {name}"`)。
- 字符串方法 (String Methods)：
    - 字符串对象自带的函数，通过点号 (`.`) 调用。
    - `.strip()`: 移除字符串首尾的空白字符（空格、制表符、换行符）。
    - `.capitalize()`: 将字符串的第一个字符转换为大写，其余字符转换为小写。
    - `.title()`: 将字符串中每个单词的首字母转换为大写，其余字母转换为小写。
    - `.split(separator)`: 根据指定的分隔符将字符串拆分成一个列表 (List)（例如 `name.split(" ")` 按空格拆分）。
    - 方法链 (Method Chaining): 可以连续调用多个方法 (例如 `name.strip().title()`)。
- 特殊字符与转义：
    - 使用反斜杠 `\` 作为转义字符，用于在字符串中表示特殊含义的字符。
    - `\n`: 换行符。
    - `\"`: 在双引号字符串中表示双引号本身。
    - `\'`: 在单引号字符串中表示单引号本身。
    - 若要在字符串中包含引号，也可内外使用不同类型的引号 (如 `'Hello, "friend"'`)。

**V. 数值类型与运算**
- 整数 (`int`)：
    - 不带小数点的数字 (例如 `-1`, `0`, `100`)。
- 浮点数 (`float`)：
    - 带小数点的数字 (例如 `3.14`, `-0.5`)。
- 算术运算符：
    - `$+$` (加), `$-$` (减), `*` (乘), `/` (除，结果通常是浮点数), `%` (取模/求余数), `**` (幂运算, 例如 $2 ** 3$ 结果是 8)。
- 类型转换：
    - `input()` 函数返回的是字符串 (`str`) 类型。
    - 进行数学运算前，通常需要将字符串转换为数值类型：
        - `int(value)`: 将 `value` 转换为整数。
        - `float(value)`: 将 `value` 转换为浮点数。
    - 如果转换失败（如尝试将 "cat" 转为整数），会引发错误。
- 数值格式化：
    - `round(number, ndigits)`: 将数字四舍五入到指定的 `ndigits` 小数位数。如果省略 `ndigits`，则圆整到最接近的整数。
    - f-String 格式化：
        - `f"{value:,}"`: 添加千位分隔符 (如 `1,000`)。
        - `f"{value:.2f}"`: 保留指定位数的小数 (如 `3.14`)。

**VI. 自定义函数与作用域**
- 定义函数：
    - 使用 `def` 关键字创建自己的函数。
    - 语法：`def function_name(parameter1, parameter2, ...):`
    - 函数体内的代码需要缩进。
- 调用函数：
    - 使用函数名加括号 `()` 来执行函数，并可传递参数 (Arguments)。
- 参数与默认值：
    - 可以在函数定义时为参数指定默认值 (例如 `def hello(to="world"):`)。
    - 如果调用函数时未提供该参数，则使用默认值。
- `return` 语句：
    - 用于从函数中返回一个值。
    - 如果函数没有 `return` 语句或 `return` 后没有值，则默认返回 `None`。
- `main` 函数模式：
    - 约定俗成的做法是将程序的主要逻辑放在名为 `main` 的函数中。
    - 在脚本的末尾调用 `main()` 来启动程序。
    - 这有助于组织代码，特别是当需要先定义辅助函数时。
- 作用域 (Scope)：
    - 变量的有效范围。
    - 在函数内部定义的变量（局部变量）通常只在该函数内部可用。
    - 需要通过参数传递或返回值才能在不同函数间共享数据。

**VII. 代码风格与最佳实践**
- 可读性：代码应该易于人类阅读和理解。
- 简洁性：在不牺牲可读性的前提下，力求代码简洁。
- 一致性：保持编码风格的一致性。
- 权衡：代码风格往往需要在简洁性、可读性、效率等之间做出权衡，没有绝对的“最好”，但要有合理的理由。
- Python 交互模式：
    - 在终端直接运行 `python` 进入交互模式。
    - 可以逐行执行代码并立即看到结果，适合快速测试和探索。